!function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],p=0,f=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);f.length;)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={7:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackWPML=window.webpackWPML||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([1277,0]),n()}({106:function(e,t,n){},1239:function(e,t){},1242:function(e,t,n){var r={"./af":703,"./af.js":703,"./ar":704,"./ar-dz":705,"./ar-dz.js":705,"./ar-kw":706,"./ar-kw.js":706,"./ar-ly":707,"./ar-ly.js":707,"./ar-ma":708,"./ar-ma.js":708,"./ar-sa":709,"./ar-sa.js":709,"./ar-tn":710,"./ar-tn.js":710,"./ar.js":704,"./az":711,"./az.js":711,"./be":712,"./be.js":712,"./bg":713,"./bg.js":713,"./bm":714,"./bm.js":714,"./bn":715,"./bn-bd":716,"./bn-bd.js":716,"./bn.js":715,"./bo":717,"./bo.js":717,"./br":718,"./br.js":718,"./bs":719,"./bs.js":719,"./ca":720,"./ca.js":720,"./cs":721,"./cs.js":721,"./cv":722,"./cv.js":722,"./cy":723,"./cy.js":723,"./da":724,"./da.js":724,"./de":725,"./de-at":726,"./de-at.js":726,"./de-ch":727,"./de-ch.js":727,"./de.js":725,"./dv":728,"./dv.js":728,"./el":729,"./el.js":729,"./en-au":730,"./en-au.js":730,"./en-ca":731,"./en-ca.js":731,"./en-gb":732,"./en-gb.js":732,"./en-ie":733,"./en-ie.js":733,"./en-il":734,"./en-il.js":734,"./en-in":735,"./en-in.js":735,"./en-nz":736,"./en-nz.js":736,"./en-sg":737,"./en-sg.js":737,"./eo":738,"./eo.js":738,"./es":739,"./es-do":740,"./es-do.js":740,"./es-mx":741,"./es-mx.js":741,"./es-us":742,"./es-us.js":742,"./es.js":739,"./et":743,"./et.js":743,"./eu":744,"./eu.js":744,"./fa":745,"./fa.js":745,"./fi":746,"./fi.js":746,"./fil":747,"./fil.js":747,"./fo":748,"./fo.js":748,"./fr":749,"./fr-ca":750,"./fr-ca.js":750,"./fr-ch":751,"./fr-ch.js":751,"./fr.js":749,"./fy":752,"./fy.js":752,"./ga":753,"./ga.js":753,"./gd":754,"./gd.js":754,"./gl":755,"./gl.js":755,"./gom-deva":756,"./gom-deva.js":756,"./gom-latn":757,"./gom-latn.js":757,"./gu":758,"./gu.js":758,"./he":759,"./he.js":759,"./hi":760,"./hi.js":760,"./hr":761,"./hr.js":761,"./hu":762,"./hu.js":762,"./hy-am":763,"./hy-am.js":763,"./id":764,"./id.js":764,"./is":765,"./is.js":765,"./it":766,"./it-ch":767,"./it-ch.js":767,"./it.js":766,"./ja":768,"./ja.js":768,"./jv":769,"./jv.js":769,"./ka":770,"./ka.js":770,"./kk":771,"./kk.js":771,"./km":772,"./km.js":772,"./kn":773,"./kn.js":773,"./ko":774,"./ko.js":774,"./ku":775,"./ku.js":775,"./ky":776,"./ky.js":776,"./lb":777,"./lb.js":777,"./lo":778,"./lo.js":778,"./lt":779,"./lt.js":779,"./lv":780,"./lv.js":780,"./me":781,"./me.js":781,"./mi":782,"./mi.js":782,"./mk":783,"./mk.js":783,"./ml":784,"./ml.js":784,"./mn":785,"./mn.js":785,"./mr":786,"./mr.js":786,"./ms":787,"./ms-my":788,"./ms-my.js":788,"./ms.js":787,"./mt":789,"./mt.js":789,"./my":790,"./my.js":790,"./nb":791,"./nb.js":791,"./ne":792,"./ne.js":792,"./nl":793,"./nl-be":794,"./nl-be.js":794,"./nl.js":793,"./nn":795,"./nn.js":795,"./oc-lnc":796,"./oc-lnc.js":796,"./pa-in":797,"./pa-in.js":797,"./pl":798,"./pl.js":798,"./pt":799,"./pt-br":800,"./pt-br.js":800,"./pt.js":799,"./ro":801,"./ro.js":801,"./ru":802,"./ru.js":802,"./sd":803,"./sd.js":803,"./se":804,"./se.js":804,"./si":805,"./si.js":805,"./sk":806,"./sk.js":806,"./sl":807,"./sl.js":807,"./sq":808,"./sq.js":808,"./sr":809,"./sr-cyrl":810,"./sr-cyrl.js":810,"./sr.js":809,"./ss":811,"./ss.js":811,"./sv":812,"./sv.js":812,"./sw":813,"./sw.js":813,"./ta":814,"./ta.js":814,"./te":815,"./te.js":815,"./tet":816,"./tet.js":816,"./tg":817,"./tg.js":817,"./th":818,"./th.js":818,"./tk":819,"./tk.js":819,"./tl-ph":820,"./tl-ph.js":820,"./tlh":821,"./tlh.js":821,"./tr":822,"./tr.js":822,"./tzl":823,"./tzl.js":823,"./tzm":824,"./tzm-latn":825,"./tzm-latn.js":825,"./tzm.js":824,"./ug-cn":826,"./ug-cn.js":826,"./uk":827,"./uk.js":827,"./ur":828,"./ur.js":828,"./uz":829,"./uz-latn":830,"./uz-latn.js":830,"./uz.js":829,"./vi":831,"./vi.js":831,"./x-pseudo":832,"./x-pseudo.js":832,"./yo":833,"./yo.js":833,"./zh-cn":834,"./zh-cn.js":834,"./zh-hk":835,"./zh-hk.js":835,"./zh-mo":836,"./zh-mo.js":836,"./zh-tw":837,"./zh-tw.js":837};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=1242},1243:function(e,t,n){},1244:function(e,t,n){},1277:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(34),o=n.n(s),c=n(2),i=n(3),u=n.n(i),l=n(7),p=n.n(l),f=n(13),b=n.n(f),d=(n(1239),n(158)),j=n(88),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.type=e,this.message=t,this.description=n},h=function(e,t){e.notifications=[t]},v=function(e,t){e.notifications=t},y=function(e){e.notifications=[]},O=n(1);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.job,s=r.translator,t.prev=1,t.next=4,e.assignTranslator(a,s.value);case 4:if(t.sent.assigned){t.next=7;break}throw new Error("A local translator could not be assigned.");case 7:n.updateJob(w(w({},a),{},{translator_name:s.label})),n.setNotification(new m("success",Object(O.a)("The translator has been assigned to the job","sitepress"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.setNotification(new m("error",Object(O.a)("The translator could not be assigned to the job","sitepress")));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}())},T=n(16),k=n(39),P=n(161),S=n(14);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c,i,l,p,f,b,d,j,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(O.a)("Approving translations reviews failed!","sitepress");n.setNotification(new m("error",t,e))},t.prev=1,t.next=4,Object(T.a)(k.a("approveTranslationsReviews",e),{jobsIds:r.map(S.i)});case 4:if(s=t.sent,o=s.data,c=o.data,o.success){t.next=11;break}return a(),t.abrupt("return");case 11:i=[],c.length?(l=c.filter((function(e){return!0!==e.status})).map((function(e){return parseInt(e.jobId)})),p=c.filter((function(e){return!0===e.status})).map((function(e){return parseInt(e.jobId)})),l.length&&(f=r.filter((function(e){return l.includes(e.extra_data.icl_translate_job_id)})),b=P.a((function(e,t){return e+t.element.name+" (From "+t.languages.source+" To "+t.languages.target+") "}),Object(O.a)("Failed approving translations for the following posts: ","sitepress"),f),i.push(new m("error",b))),p.length&&(d=r.filter((function(e){return p.includes(e.extra_data.icl_translate_job_id)})),n.updateJobs(d.map((function(e){return x(x({},e),{},{review_status:"COMPLETED"})}))),j=Object(O.a)("Translations reviews approved successfully!","sitepress"),i.push(new m("success",j))),n.setNotifications(i)):(h=Object(O.a)("No valid jobs selected to approve translations reviews!","sitepress"),n.setNotification(new m("warning",h))),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a();case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}())},D=n(113);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c,i,l,p,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.jobs,s=r.deleteDrafts,t.prev=1,t.next=4,Object(T.a)(k.a("cancelTranslationReviews",e),{jobsIds:a.map(S.i),deleteDrafts:s});case 4:if(o=t.sent,c=o.data,i=c.data,l=c.success,0!==i.length&&l){t.next=10;break}throw new Error;case 10:l&&i&&(n.updateJobs(a.filter((function(e){return D.a(Object(S.i)(e),i)})).map((function(e){return L(L({},e),{},s?{status:S.b.CANCELLED}:{review_status:null})}))),p=i.length>1?Object(O.a)("Translation reviews have been canceled","sitepress"):Object(O.a)("Translation review has been canceled","sitepress"),n.setNotification(new m("success",p))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),f=a.lenght>1?Object(O.a)("Translation reviews could not be canceled","sitepress"):Object(O.a)("Translation review could not be canceled","sitepress"),n.setNotification(new m("error",f));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}())},A=n(30),C=n.n(A),F=n(211),J=n(212),M=n(82),z=n(213);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e,t){var n=Object(M.a)();return n.addAction("wpml-tm-job-translations-processed","DownloadTranslations",t),new z.a(e,n)},B=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=K(e,(function(e){return n.updateJobs(e.map((function(e){return W(W({},e),{},{status:S.b.COMPLETED})})))})),t.next=5,a.download(r);case 5:s=r.length>1?Object(O.a)("Translations have been downloaded","sitepress"):Object(O.a)("Translation has been downloaded","sitepress"),n.setNotification(new m("success",s)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),o=r.length>1?Object(O.a)("Translations could not be downloaded","sitepress"):Object(O.a)("Translation could not be downloaded","sitepress"),n.setNotification(new m("error",o));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}())},G=n(378);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){var e=p()(u.a.mark((function e(t,n){var r,a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new J.a(t),e.next=3,r.sync(n);case 3:return a=e.sent,s=a.ready,o=a.cancelled,e.abrupt("return",{syncJobsReadyToDownload:s,cancelledJobs:o});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=p()(u.a.mark((function e(t,n,r){var a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.map((function(e){return e.id})).join(","),e.next=3,t.loadJobs({pageName:"tm-jobs",limit:0,offset:0,ids:a});case 3:return s=e.sent,o=s.jobs,e.next=7,B(t)(n,o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),H=function(e,t,n){var r=G.a("id",n);e.updateJobs(t.filter((function(e){return D.a(e.id,r)})).map((function(e){return X(X({},e),{},{status:S.b.CANCELLED})})))},Q=n(15),Z=n.n(Q),$=n(18),ee=n.n($),te=n(503),ne=n.n(te),re=function(){function e(t){Z()(this,e),this.jobsAPI=t}var t;return ee()(e,[{key:"run",value:(t=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobsAPI.downloadXLIFF(t);case 2:n=e.sent,ne()(n,"job-".concat(t.id,".xliff"));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ae=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=new re(e),t.next=4,a.run(r);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),s=Object(O.a)("Download XLIFF file couldn't be finished","sitepress"),n.setNotification(new m("error",s));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}())},se=n(1311),oe=n(875);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=n(51);function le(e){var t="(?:^|; )".concat(encodeURIComponent(e),"=([^;]*)"),n=document.cookie.match(new RegExp(t));return n?decodeURIComponent(n[1]):null}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e,t){return Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a){var s,o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.job,o=a.translatorId,c=function(e){return e.languagePairs.some((function(e){var t=e.source,n=e.target;return t===s.language_codes.source&&n===s.language_codes.target}))},i=t.filter(c).find(ue.a("value",o)),n.prev=3,n.next=6,e.assignTranslator(s,i.value);case 6:if(n.sent.assigned){n.next=9;break}throw new Error("A local translator could not be assigned.");case 9:return r.updateJob(fe(fe({},s),{},{translator_name:i.label,status:S.b.IN_PROGRESS})),(l=new URL(s.edit_url)).searchParams.append("return_url",window.location.href),le("wpml_ph_distinct_id")&&le("wpml_ph_session_id")&&(l.searchParams.append("wpml_ph_distinct_id",le("wpml_ph_distinct_id")),l.searchParams.append("wpml_ph_session_id",le("wpml_ph_session_id"))),n.abrupt("return",l.toString());case 16:return n.prev=16,n.t0=n.catch(3),r.setNotification(new m("error",Object(O.a)("The translator could not be assigned to the job","sitepress"))),n.abrupt("return","");case 20:case"end":return n.stop()}}),n,null,[[3,16]])})));return function(e,t){return n.apply(this,arguments)}}())},de=n(1327),je=n(71),me=n(48),he=n(121),ve=n(63),ye=n(9),Oe=n.n(ye),ge=n(65),we=n(387),Ee=n(526),Te=n(437),ke=n(448),Pe=n(166);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e,t){return function(n){var r;n[e]&&delete(n=_e(_e({},n),{},(r={},b()(r,"".concat(t,"_from"),n[e][0]),b()(r,"".concat(t,"_to"),n[e][1]),r)))[e];return n}},Ie=me.a((function(e){return e.translated_by&&!se.a(e.translated_by)&&(e=_e(_e({},e),function(e){switch(e){case"any-service":return{scope:"remote",translated_by:void 0};case"any-local-translator":return{scope:"local",translated_by:void 0};case"automatic":return{translated_by:void 0,only_automatic:!0};default:return e.includes("translator-")?{scope:"local",translated_by:parseInt(e.substr("translator-".length))}:e.includes("service-")?{scope:"remote",translated_by:parseInt(e.substr("service-".length))}:{scope:"all"}}}(e.translated_by))),e}),(function(e){if(e.language){var t=Oe()(e.language,2),n=t[0],r=t[1],a=void 0===r?[]:r;delete(e=_e(_e({},e),{},{source_language:n,target_language:a.join(",")})).language}return e}),(function(e){if(!se.a(ve.a([],"status",e))){var t=void 0!==oe.a(ge.a(S.b.NEEDS_UPDATE),e.status);e=_e(_e({},e),{},{status:e.status.join(","),needs_update:t?"include":null})}return e}),xe("sent_date","sent"),xe("deadline_date","deadline"),we.a(Ee.a([se.a,Te.a]))),De=function(e){var t=ke.a([[ge.a("ascend"),Pe.a("asc")],[ge.a("descend"),Pe.a("desc")],[Pe.a(1),Pe.a(void 0)]]);return e=e.filter(k.a("order")).reduce((function(e,n){return e[n.columnKey]=t(n.order),e}),{})},Ne=function(e,t,n,r){return _e(_e(_e({},Ie(e)),n),{},{sorting:De(t),pageName:r})};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.cancelJobs(r);case 3:if(a=t.sent,s=G.a("id",a),!se.a(s)){t.next=7;break}throw new Error("No jobs have been cancelled");case 7:return n.updateJobs(r.filter((function(e){return D.a(e.id,s)})).map((function(e){return Re(Re({},e),{},{status:S.b.CANCELLED})}))),o=s.length>1?Object(O.a)("The jobs have been cancelled","sitepress"):Object(O.a)("The job has been cancelled","sitepress"),n.setNotification(new m("success",o)),t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t.catch(0),c=r.lenght>1?Object(O.a)("The jobs could not be cancelled","sitepress"):Object(O.a)("The job could not be cancelled","sitepress"),n.setNotification(new m("error",c)),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}())},Ce=n(36),Fe=function(e,t){return Object(c.e)(function(){var n=p()(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=9;break}return n.prev=1,n.next=4,e.synchronizeStatusesWithTP();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),r.setNotification(new m("error",Object(O.a)("Synchronization with the Professional Translation service has failed","sitepress")));case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}())};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){return"translation-queue"===e?[{}]:[{columnKey:"id",order:"descend"}]},qe=function(e){return"translation-queue"===e?Object(O.a)("Loading translations queue","sitepress"):Object(O.a)("Loading translation jobs","sitepress")},We=n(201),Ke=n(131);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=[{value:S.b.WAITING_FOR_TRANSLATOR,text:Object(O.a)("Needs translation","sitepress")},{value:S.b.IN_PROGRESS,text:Object(O.a)("In progress","sitepress")},{value:S.b.NEEDS_UPDATE,text:Object(O.a)("Needs update","sitepress")},{value:S.b.TRANSLATION_READY_TO_DOWNLOAD,text:Object(O.a)("Translation ready to download","sitepress")},{value:S.b.NEEDS_REVIEW,text:Object(O.a)("Pending review","sitepress")},{value:S.b.COMPLETED,text:Object(O.a)("Completed","sitepress")}],Xe=[{value:S.b.COMPLETED,text:Object(O.a)("Completed","sitepress")},{value:S.b.NEEDS_UPDATE,text:Object(O.a)("Needs update","sitepress")},{value:S.b.IN_PROGRESS,text:Object(O.a)("In progress","sitepress")},{value:S.b.WAITING_FOR_TRANSLATOR,text:Object(O.a)("Needs translation","sitepress")},{value:S.b.NEEDS_REVIEW,text:Object(O.a)("Pending review","sitepress")}],Ve=function(e){var t=window.localStorage.getItem("wpml-job-list-collapsed");return Te.a(t)&&(t=["id","sent_date","batch_name"]),e.map((function(e){return D.a(e.id,t)?Ge(Ge({},e),{},{collapsed:!0}):e}))},Ye=function(e){return{columns:Ve((t=e,n=t.page,r=t.isBasketUsed,a=[],s="translation-queue"===n&&!r,a.push({id:"id",title:Object(O.a)("ID","sitepress"),collapsible:!0}),a.push({id:"title",title:Object(O.a)("Title","sitepress"),collapsible:!1}),a.push({id:"element_type",title:Object(O.a)("Type","sitepress"),collapsible:!0}),a.push({id:"language",title:Object(O.a)("Languages","sitepress"),collapsible:!0}),s||a.push({id:"batch_name",title:Object(O.a)("Batch name","sitepress"),collapsible:!0,collapsed:!1}),"translation-queue"!==n&&a.push({id:"translated_by",title:Object(O.a)("Translated by","sitepress"),collapsible:!0}),a.push({id:"sent_date",title:Object(O.a)("Sent on","sitepress"),collapsible:!0,collapsed:!1}),s||a.push({id:"deadline_date",title:Object(O.a)("Deadline","sitepress"),collapsible:!0}),a.push({id:"status",title:Object(O.a)("Status","sitepress"),collapsible:!1,options:"translation-queue"===n?Xe:Ue}),a)),showColumns:Object(c.b)((function(e,t){e.columns=e.columns.map((function(e){return e.collapsible?D.a(e.id,t)?Ge(Ge({},e),{},{collapsed:!1}):Ge(Ge({},e),{},{collapsed:!0}):e}));var n=me.a(We.a(k.a("collapsible")),G.a("id"),we.a(D.a(Ke.a,t)))(e.columns);window.localStorage.setItem("wpml-job-list-collapsed",n)}))};var t,n,r,a,s};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=function(e){var t,n=e.pageSize,r=void 0===n?20:n,a=e.jobsAPI,s=void 0===a?new d.a(new j.a):a,o=e.settings,i=void 0===o?{}:o,l=e.hasAnyJobsToSync,f=void 0!==l&&l,b=e.syncATEJobs,g={};if(i.queryFilters.status&&(g.status=i.queryFilters.status),i.queryFilters.element_type&&(g.element_type=i.queryFilters.element_type),i.queryFilters.targetLanguages){var w=i.languagePairs[0].source.code;g.language=[w,i.queryFilters.targetLanguages]}return Object(c.d)(Qe(Qe(Qe(Qe(Qe(Qe({settings:i},{notifications:[],setNotification:Object(c.b)(h),setNotifications:Object(c.b)(v),clearNotifications:Object(c.b)(y)}),function(e,t,n,r){return{loading:void 0,_jobs:[],jobs:Object(c.c)([function(e){return e._jobs},function(e){return e.jobsWithInsufficientBalance}],(function(e,t){return je.a((function(e){return Me(Me({},e),{},{hasInsufficientBalance:D.a(e.extra_data.icl_translate_job_id,t)})}),e)})),total:n,pageSize:n,currentPage:1,sorting:ze(t),filters:r,selectedJobIds:[],selectedJobs:Object(c.c)([function(e){return e.jobs},function(e){return e.selectedJobIds}],(function(e,t){return e.filter((function(e){var n=e.id;return D.a(n,t)}))})),includeProfessionalTranslations:window.localStorage.getItem("wpml-job-list-include-professional-translations")>0,mouseOverJobId:null,loadJobs:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a,s){var o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.getState,c={limit:o().pageSize,offset:(o().currentPage-1)*o().pageSize},r.setLoading(qe(t)),n.prev=3,i=Ne(o().filters,o().sorting,c,t),"translation-queue"===t&&o().includeProfessionalTranslations&&(i.includeTranslationServiceJobs=1),n.next=8,e.loadJobs(i);case 8:l=n.sent,r.setJobs(l),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),r.setJobs({jobs:[],total:0}),r.setNotification(new m("error",Object(O.a)("Jobs could not be loaded","sitepress")));case 16:return n.prev=16,r.setLoading(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,12,16,19]])})));return function(e,t,r){return n.apply(this,arguments)}}()),setLoading:Object(Ce.a)("loading"),setSelectedJobIds:Object(Ce.a)("selectedJobIds"),setJobs:Object(c.b)((function(e,t){var n=t.jobs,r=t.total;e._jobs=n,e.total=r})),updateJob:Object(c.b)((function(e,t){e._jobs=e._jobs.map((function(e){return e.id===t.id?t:e}))})),updateJobs:Object(c.b)((function(e,t){e._jobs=e._jobs.map((function(e){return oe.a(ue.a("id",e.id),t)||e}))})),setFilters:Object(Ce.a)("filters"),setPagination:Object(c.b)((function(e,t){var n=t.currentPage,r=t.pageSize;e.currentPage=n,e.pageSize=r})),setFiltersAndPagination:Object(c.b)((function(e,t){var n=t.currentPage,r=t.pageSize,a=t.filters;e.currentPage=n,e.pageSize=r,e.filters=a})),setSorting:Object(Ce.a)("sorting"),setIncludeProfessionalTranslations:Object(c.b)((function(e,t){e.includeProfessionalTranslations=t,window.localStorage.setItem("wpml-job-list-include-professional-translations",t?1:0)})),setMouseOverJobId:Object(Ce.a)("mouseOverJobId"),onJobRefreshNeeded:Object(c.f)((function(e){return[e.setSorting,e.setFilters,e.setPagination,e.setFiltersAndPagination,e.setIncludeProfessionalTranslations]}),(function(e){return e.loadJobs()}))}}(s,i.page,r,g)),function(e,t){return{jobsWithInsufficientBalance:[],setJobsWithInsufficientBalance:Object(Ce.a)("jobsWithInsufficientBalance"),synchronizeATEJobs:Object(c.e)(function(){var n=p()(u.a.mark((function n(r){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=11;break}return n.prev=1,n.next=4,e.syncAndDownload({suspendCycleRepeat:!0});case 4:a=n.sent,r.setJobsWithInsufficientBalance(G.a("jobId",a.insufficientBalanceJobs)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r.setNotification(new m("error",Object(O.a)("The Advanced Editor jobs synchronization has failed","sitepress")));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}())}}(b,f)),{},{synchronizeTranslationProxyJobs:Fe(s,i.translationService),initialize:Object(c.e)(function(){var e=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoading(qe(i.page)),e.next=3,t.synchronizeATEJobs();case 3:return e.next=5,t.synchronizeTranslationProxyJobs();case 5:return e.next=7,t.loadJobs();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),assignTranslator:E(s),cancelJobs:Ae(s),applyTranslations:B(s)},function(e,t){return{translationProxyBatchSyncIds:[],setTranslationProxyBatchSyncIds:Object(c.b)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.translationProxyBatchSyncIds=t})),translationProxyBatchSync:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a){var s,o,c,i,l,p,f,b,d,j,h,v,y;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.jobs,o=a.storeJobs,c=s.map((function(e){return e.batch.tp_id})),r.setTranslationProxyBatchSyncIds(c),n.prev=3,i=[],l=new F.a(e,t.batchSyncTimeout),n.next=8,l.run(c);case 8:return p=o.filter((function(e){return D.a(e.batch.tp_id,c)&&e.status===S.b.TRANSLATION_READY_TO_DOWNLOAD})),n.next=11,V(e,s);case 11:if(f=n.sent,b=f.syncJobsReadyToDownload,d=f.cancelledJobs,!((j=p.length>0?[].concat(C()(b),C()(p)):b).length>0)){n.next=20;break}return n.next=18,Y(e,r,j);case 18:h=Object(O.c)(Object(O.b)("%d translation has been downloaded","%d translations have been downloaded",j.length,"sitepress"),j.length),i.push(new m("success",h));case 20:d.length>0&&H(r,o,d),v=Object(O.a)("Batch sync finished successfully!","sitepress"),i.push(new m("success",v)),r.setNotifications(i),n.next=30;break;case 26:n.prev=26,n.t0=n.catch(3),y=Object(O.a)("Batch sync couldn't be finished","sitepress"),r.setNotification(new m("error",y));case 30:r.setTranslationProxyBatchSyncIds([]);case 31:case"end":return n.stop()}}),n,null,[[3,26]])})));return function(e,t){return n.apply(this,arguments)}}())}}(s,i)),{},{downloadXliff:ae(s),openEditor:be(s,i.localTranslators),resign:(t=i.endpoints,Object(c.e)(function(){var e=p()(u.a.mark((function e(n,r){var a,s,o,c,i,l,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=r.map(S.i),!se.a(a)){e.next=4;break}throw new Error(Object(O.a)("Specify some jobs to resign","sitepress"));case 4:return e.next=6,Object(T.a)(k.a("resign",t),{jobIds:a});case 6:if(s=e.sent,o=s.data,c=o.data,i=o.success,!se.a(c)&&i){e.next=13;break}throw l=Object(O.c)(Object(O.a)("We could not resign jobs: %s","sitepress"),a.join(", ")),new Error(l);case 13:n.updateJobs(c.map((function(e){return oe.a((function(t){return e===Object(S.i)(t)}),r)})).map((function(e){return ie(ie({},e),{},{translator_name:void 0,translator_id:void 0})}))),p=c.length>1?Object(O.a)("Resigned from jobs","sitepress"):Object(O.a)("Resigned from job","sitepress"),n.setNotification(new m("success",p)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),f=Object(O.a)("Failed to resign from jobs","sitepress"),n.setNotification(new m("error",f,e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()))},function(e,t){return{exportALLToXLIFF:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a,s){var o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.getState,n.prev=1,n.next=4,e.loadJobs(Ne(o().filters,o().sorting,{limit:t.xliffExport.xliffExportAllLimit,offset:0},t.page));case 4:return c=n.sent,i=c.jobs,n.abrupt("return",r.exportToXLIFF({version:a,jobs:i}));case 9:n.prev=9,n.t0=n.catch(1),l=Object(O.a)("Could not load jobs for export","sitepress"),r.setNotification(new m("error",l));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t,r){return n.apply(this,arguments)}}()),exportToXLIFF:Object(c.e)(function(){var e=p()(u.a.mark((function e(n,r){var a,s,o,c,i,l,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.version,s=r.jobs,o=t.xliffExport.translationQueueURL+"&wpml_xliff_action=download"+"&xliff_version=".concat(a)+"&jobs="+s.map(he.a(["extra_data","icl_translate_job_id"])).join(",")+"&nonce=".concat(t.xliffExport.nonce),c=function(e){return ve.a("file.zip",1,e.headers.get("content-disposition").match(/filename=\"(.*)\"/))},e.prev=3,e.next=6,fetch(o);case 6:return i=e.sent,e.next=9,i.blob();case 9:l=e.sent,ne()(l,c(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),p=Object(O.a)("The export to XLIFF failed","sitepress"),n.setNotification(new m("error",p));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}())}}(s,i)),{},{importXLIFF:Object(c.e)(function(){var e=p()(u.a.mark((function e(t,n,r){var a,s,o,c,i,l,p,f,b,d,j,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,e.prev=1,(s=new FormData).append("action","wpml_xliff_upload"),s.append("import",n),s.append("xliff_upload",1),e.next=8,fetch(ajaxurl,{method:"POST",body:s});case 8:return o=e.sent,e.next=11,o.json();case 11:if(c=e.sent,i=c.success,l=c.data,i){e.next=19;break}return p=Object(O.a)("Import failed!","sitepress"),f=l.map((function(e){return new m("error",p,Object(O.a)(k.a("message",e),"sitepress-multilingual-cms"))})),t.setNotifications(f),e.abrupt("return");case 19:if(!(l.length>0)){e.next=29;break}if(b=l.length>1?Object(O.c)(Object(O.a)("Imported %d jobs","sitepress"),l.length):Object(O.a)("Imported one job","sitepress"),t.setNotification(new m("success",b)),d=function(e){return parseInt(e)},!(de.a(je.a(me.a(he.a(["extra_data","icl_translate_job_id"]),d),a().jobs),je.a(d,l)).length>0)){e.next=27;break}return e.next=27,t.loadJobs();case 27:e.next=31;break;case 29:j=Object(O.a)("Could not import any job","sitepress"),t.setNotification(new m("error",j));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(1),h=Object(O.a)("Import failed!","sitepress"),t.setNotification(new m("error",h));case 37:case"end":return e.stop()}}),e,null,[[1,33]])})));return function(t,n,r){return e.apply(this,arguments)}}()),approveTranslationsReviews:I(i.endpoints),cancelTranslationReviews:R(i.endpoints),bulkActions:{inProgress:!1,selectedAction:"NONE",setInProgress:Object(Ce.a)("inProgress"),setSelectedAction:Object(Ce.a)("selectedAction")},columnsManagement:Ye(i)}))},$e=n(874),et=n(877),tt=n(393),nt=n(1336),rt=n(873),at=n(878),st=n(164),ot=function(e){if(e.status===S.b.COMPLETED&&ue.a("review_status","NEEDS_REVIEW",e)){if(Object(S.q)(e)){var t=Object(O.a)("%s are immediately published because they don't support draft mode.","sitepress"),n=Object(O.c)(t,he.a(["element","type","label"],e));return a.a.createElement(a.a.Fragment,null,a.a.createElement(st.a,{title:n},a.a.createElement(at.a,null))," ",Object(O.a)("Published — Pending review","sitepress"))}return"publish"===e.element.status?Object(O.a)("Published — Pending review","sitepress"):Object(O.a)("Draft — Pending review","sitepress")}if(e.status===S.b.IN_PROGRESS&&ue.a("review_status","EDITING",e))return Object(S.q)(e)?Object(O.a)("Review in progress","sitepress"):"publish"===e.element.status?Object(O.a)("Published — Review in progress","sitepress"):Object(O.a)("Draft — Review in progress","sitepress");if(e.hasInsufficientBalance)return Object(O.a)("Insufficient funds","sitepress");var r,s,o,c=(r=e.status,s={},b()(s,S.b.CANCELLED,Object(O.a)("Cancelled","sitepress")),b()(s,S.b.WAITING_FOR_TRANSLATOR,Object(O.a)("Needs translation","sitepress")),b()(s,S.b.IN_PROGRESS,Object(O.a)("In progress","sitepress")),b()(s,S.b.TRANSLATION_READY_TO_DOWNLOAD,Object(O.a)("Translation ready to download","sitepress")),b()(s,S.b.COMPLETED,Object(O.a)("Completed","sitepress")),o=s,ve.a("",r,o));return e.needs_update&&(c+=" - "+Object(O.a)("Needs update","sitepress")),c},ct=function(e){var t=e.job;return a.a.createElement(a.a.Fragment,null,ot(t),function(e){return e.tp_id&&e.ts_status?a.a.createElement("span",{style:{display:"none"}},"(",e.ts_status.status,")"):""}(t))},it=n(33),ut=n.n(it),lt=n(202),pt=n(446),ft=n(85),bt=pt.a.Option,dt=function(e){var t=e.job,n=e.localTranslators,s=e.assignTranslator,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],u=c[1],l=Object(r.useState)(0),p=Oe()(l,2),f=p[0],b=p[1];n=n.filter((function(e){return e.languagePairs.some((function(e){var n=e.source,r=e.target;return n===t.language_codes.source&&r===t.language_codes.target}))}));return a.a.createElement("span",{className:"wpml-assign-translator"},a.a.createElement(pt.a,{style:{width:150},onChange:b,disabled:i,defaultValue:0},a.a.createElement(bt,{value:0,key:0},Object(O.a)("Select translator","sitepress")),n.map((function(e){var t=e.label,n=e.value;return a.a.createElement(bt,{value:n,key:n},t)}))),a.a.createElement(st.a,{title:Object(O.a)("Assign","sitepress")},a.a.createElement(ft.a,{type:"ghost",shape:"circle",icon:a.a.createElement(jt,null),onClick:function(){u(!0);var e=n.find(ue.a("value",f));s({job:t,translator:e}).catch((function(){return u(!1)}))},disabled:0===f,loading:i})))},jt=function(){return a.a.createElement("i",{className:"otgs-ico otgs-ico-user"})};dt.propTypes={job:ut.a.object,localTranslators:ut.a.array,assignTranslator:ut.a.func};var mt=function(e){var t=e.job,n=Object(c.h)(lt.a([],["settings","localTranslators"])),r=Object(c.g)(k.a("assignTranslator"));return a.a.createElement(dt,{job:t,localTranslators:n,assignTranslator:r})},ht=n(55),vt=function(e){var t=e.job,n=e.createAssignTranslator,r=void 0===n?function(e){return a.a.createElement(mt,{job:e})}:n;return t.automatic?Object(O.a)("Automatic translation","sitepress"):t.translator_name?t.translator_name:t.status===S.b.WAITING_FOR_TRANSLATOR?r(t):a.a.createElement(a.a.Fragment,null)},yt=function(e){var t=e.job,n=e.batchUrl,r=a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(ht.sprintf)(n,t.batch.tp_id),className:"wpml-tm-batch-url wpml-external-link"},t.translation_service);return a.a.createElement(a.a.Fragment,null,r," ",Object(ht.sprintf)(Object(O.a)("TP ID: %d","sitepress"),t.tp_id))},Ot=function(e){var t=e.job,n=Object(c.h)(lt.a("",["settings","batchUrl"]));return a.a.createElement(yt,{job:t,batchUrl:n})},gt=function(e){var t=e.job,n=e.createLocalTranslator,r=void 0===n?function(e){return a.a.createElement(vt,{job:e})}:n,s=e.createTranslationService,o=void 0===s?function(e){return a.a.createElement(Ot,{job:e})}:s;return"local"===t.translation_service_id?r(t):o(t)},wt=function(e){var t=e.job,n=e.showLink,r=void 0!==n&&n;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"job-title-container"},t.element.name?t.element.name:Object(O.a)("(no title)","sitepress"),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("a",{href:t.view_original_url,target:"_blank",rel:"noreferrer"},Object(O.a)("View original","sitepress")))))},Et=function(e){var t=e.job,n=Object(c.h)(k.a("mouseOverJobId"));return a.a.createElement(wt,{job:t,showLink:t.id===n})},Tt=function(e){var t=e.languages;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"wpml-lang-name wpml-source-lang"},t.source)," » ",a.a.createElement("span",{className:"wpml-lang-name wpml-target-lang"},t.target))};Tt.propTypes={languages:ut.a.shape({source:ut.a.string,target:ut.a.string})};var kt=Tt,Pt=n(1357),St=n(1339),_t=function(e){var t=e.confirm,n=e.reset,r=e.resetLabel,s=void 0===r?Object(O.a)("Reset","sitepress"):r,o=e.submitLabel,c=void 0===o?Object(O.a)("Filter","sitepress"):o;return a.a.createElement("div",null,a.a.createElement(ft.a,{onClick:n,size:"small",style:{width:90},className:"wpml-reset",type:"link"},s),a.a.createElement(ft.a,{type:"link",onClick:t,size:"small",style:{width:90},className:"wpml-search"},c))},xt=n(1344),It=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters,o=e.fieldLabel,c=e.format,i=void 0===c?/.*/:c,u=e.searchInput;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(St.a,{ref:u,placeholder:"Search by ".concat(o),value:n,onChange:function(e){var n=e.target.value;xt.a(i,n)&&t(n)},onPressEnter:function(){return r()},style:{width:"100%"}}),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){return r()},reset:s})))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=pt.a.Option,Rt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=e.settings,c=(o=void 0===o?{translationServices:[],localTranslators:[],shouldDisplayAutomaticTranslation:!1}:o).translationServices,i=o.localTranslators,u=o.shouldDisplayAutomaticTranslation;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(pt.a,{onChange:n,style:{width:"100%"},value:se.a(t)?"any":t},a.a.createElement(Lt,{value:"any"},Object(O.a)("Anyone","sitepress")),u&&a.a.createElement(Lt,{value:"automatic"},Object(O.a)("Automatic translation","sitepress")),!Te.a(c)&&a.a.createElement(Lt,{value:"any-service"},Object(O.a)("Any Translation Service","sitepress")),!Te.a(i)&&a.a.createElement(Lt,{value:"any-local-translator"},Object(O.a)("Any WordPress Translator","sitepress")),c.map((function(e){var t=e.value,n=e.label;return a.a.createElement(Lt,{value:"service-".concat(t),key:"service-".concat(t)},n)})),i.map((function(e){var t=e.value,n=e.label;return a.a.createElement(Lt,{value:"translator-".concat(t),key:"translator-".concat(t)},n)}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){return r()},reset:s})))},At=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(me.a(k.a("settings"),rt.a(["translationServices","localTranslators"]))),i=Object(c.h)(he.a(["settings","page"]));return o=Nt(Nt({},o),{},{shouldDisplayAutomaticTranslation:"tm-jobs"===i}),a.a.createElement(Rt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s,settings:o})},Ct=n(144),Ft=n(73),Jt=n(1308),Mt=n(398),zt=n(512),qt=n(848),Wt=pt.a.Option,Kt=function(e){var t=e.setSelectedKeys,n=Oe()(e.selectedKeys,2),r=n[0],s=n[1],o=e.confirm,c=e.clearFilters,i=e.languagePairs,u=Jt.a(k.a("name")),l=me.a(G.a("targets"),Mt.a(),zt.a(),u)(i),p=r?me.a(oe.a((function(e){return e.source.code===r})),k.a("targets"),u)(i):l,f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t([e,n.filter(me.a(ge.a(e),qt.a))])},b=je.a((function(e){var t=e.name,n=e.code;return a.a.createElement(Wt,{value:n,key:n},t)})),d=function(){return a.a.createElement(pt.a,{key:"sourceLanguage",className:"wpml-source-language",onChange:function(e){return f(e,[])},style:{width:"100%"},value:r},b(me.a(G.a("source"),u)(i)))},j=function(){return a.a.createElement(pt.a,{key:"targetLanguages",className:"wpml-target-languages",mode:"multiple",onChange:function(e){return f(r,e)},style:{width:"100%"},value:s},b(p))};return a.a.createElement("div",{style:{padding:16}},a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:24},a.a.createElement("div",{className:"ant-select-with-label"},a.a.createElement("label",null,Object(O.a)("From","sitepress")),a.a.createElement(d,null)))),a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:24,style:{height:16}})),a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:24},a.a.createElement("div",{className:"ant-select-with-label"},a.a.createElement("label",null,Object(O.a)("To","sitepress")),a.a.createElement(j,null)))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){return o()},reset:c})))},Bt=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(lt.a([],["settings","languagePairs"]));return a.a.createElement(Kt,{setSelectedKeys:t,selectedKeys:n,confirm:r,clearFilters:s,languagePairs:o})},Gt=n(1335),Ut=n(19),Xt=n.n(Ut),Vt=Gt.a.RangePicker,Yt=function(e){var t=e.setSelectedKeys,n=Oe()(e.selectedKeys,2),r=n[0],s=n[1],o=e.confirm,c=e.clearFilters,i=function(e){return e?e.format("YYYY-MM-DD"):void 0},u=[r?Xt()(r,"YYYY-MM-DD"):void 0,s?Xt()(s,"YYYY-MM-DD"):void 0];return a.a.createElement("div",{style:{padding:16}},a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:24},a.a.createElement(Vt,{onCalendarChange:function(e){var n=Oe()(e,2),r=n[0],a=n[1];return t([i(r),i(a)])},value:u,style:{width:"100%"}}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){return o()},reset:c})))},Ht=pt.a.Option,Qt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=e.types,c=void 0===o?[]:o;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(pt.a,{value:se.a(t)?"any":t,className:"wpml-type",onChange:n,style:{width:"100%"}},a.a.createElement(Ht,{value:"any"},Object(O.a)("All types","sitepress")),c.map((function(e){var t=e.name,n=e.label;return a.a.createElement(Ht,{value:t,key:t},n)}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){"any"===t?s():r()},reset:s})))},Zt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(he.a(["settings","types"]));return a.a.createElement(Qt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s,types:o})},$t=n(1328);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=function(e,t,n){return function(r){var s=r.setSelectedKeys,o=r.selectedKeys,c=r.confirm,i=r.clearFilters;return a.a.createElement(It,{setSelectedKeys:s,selectedKeys:o,confirm:c,clearFilters:i,fieldLabel:e,format:t,searchInput:n})}},rn=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:/.*/;return{filterIcon:function(e){return a.a.createElement(Pt.a,{style:{color:e?"#1890ff":void 0}})},filterDropdown:nn(e,s,r),filteredValue:lt.a(void 0,[t],n),onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.select()}),100)}}},an=function(){return function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Yt,{selectedKeys:n,setSelectedKeys:t,confirm:r,clearFilters:s})}},sn={id:function(e,t,n,r){return tn({key:"id",className:"wpml-id-column",title:t,dataIndex:"id",width:78,sorter:!0},rn("ID","id",e,r,/^[0-9]*$/))},title:function(e,t,n,r){return tn({key:"title",className:"wpml-title-column",title:t,width:200,render:function(e,t){return a.a.createElement(Et,{job:t})},sorter:!0},rn(Object(O.a)("Title","sitepress"),"title",e,r))},element_type:function(e,t){return{key:"element_type",className:"wpml-type-column",title:t,width:100,filterIcon:a.a.createElement(on,{title:t}),render:function(e,t){return t.element.type.label},filterDropdown:function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Zt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s})},filteredValue:lt.a(void 0,["element_type"],e)}},language:function(e,t){return{key:"language",className:"wpml-language-column",title:t,width:140,filterIcon:a.a.createElement(on,{title:t}),render:function(e,t){var n=t.languages;return a.a.createElement(kt,{languages:n})},sorter:!0,filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Bt,{selectedKeys:n,setSelectedKeys:t,confirm:r,clearFilters:s})},filteredValue:lt.a(void 0,["language"],e)}},batch_name:function(e,t,n,r){return tn({key:"batch_name",className:"wpml-batch-name-column",title:t,render:function(e,t){return t.batch.name},width:130,sorter:!0},rn(Object(O.a)("Batch name","sitepress"),"batch_name",e,r))},translated_by:function(e,t){return{key:"translated_by",className:"wpml-translated-by-column",title:t,render:function(e,t){return a.a.createElement(gt,{job:t})},width:140,filterIcon:a.a.createElement(on,{title:t}),filterDropdown:function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(At,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s})},filteredValue:lt.a(void 0,["translated_by"],e)}},sent_date:function(e,t){return{key:"sent_date",className:"wpml-sent-date-column",title:t,render:function(e,t){return t.sent_date},filterIcon:a.a.createElement(on,{title:t}),sorter:!0,width:150,filterDropdown:an(),filteredValue:lt.a(void 0,["sent_date"],e)}},deadline_date:function(e,t){return{key:"deadline_date",className:"wpml-deadline-date-column",title:t,render:function(e,t){return Object(S.p)(t)?a.a.createElement("b",{className:"wpml-overdue-job"},t.deadline):t.deadline},filterIcon:a.a.createElement(on,{title:t}),sorter:!0,width:150,filterDropdown:an(),filteredValue:lt.a(void 0,["deadline_date"],e)}},status:function(e,t,n){return{key:"status",className:"wpml-status-column",title:t,render:function(e,t){return a.a.createElement(ct,{job:t})},filterIcon:a.a.createElement(on,{title:t}),width:115,sorter:!0,filters:n,filteredValue:lt.a([],["status"],e)}}},on=function(e){var t=e.title;return a.a.createElement(st.a,{title:Object(O.c)(Object(O.a)("Filter by %s","sitepress"),t.toLowerCase())},a.a.createElement("div",{className:"filter-icon"},a.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.9509 1H2.05187C1.21337 1 0.747185 1.96991 1.27099 2.62469L11.2905 15.1492C11.4324 15.3265 11.5098 15.5468 11.5098 15.7739V28.3525C11.5098 29.1892 12.4761 29.656 13.1315 29.1357L18.5929 24.8003C18.832 24.6106 18.9712 24.3222 18.9712 24.017V15.7609C18.9712 15.5418 19.0433 15.3287 19.1761 15.1545L28.746 2.60645C29.248 1.94824 28.7787 1 27.9509 1Z",fill:"none"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.9509 1H2.05187C1.21337 1 0.747185 1.96991 1.27099 2.62469L11.2905 15.1492C11.4324 15.3265 11.5098 15.5468 11.5098 15.7739V28.3525C11.5098 29.1892 12.4761 29.656 13.1315 29.1357L18.5929 24.8003C18.832 24.6106 18.9712 24.3222 18.9712 24.017V15.7609C18.9712 15.5418 19.0433 15.3287 19.1761 15.1545L28.746 2.60645C29.248 1.94824 28.7787 1 27.9509 1ZM17.5859 13.9416C17.1871 14.4643 16.9712 15.1035 16.9712 15.7609V23.5341L13.5098 26.2819V15.7739C13.5098 15.0926 13.2778 14.4317 12.8523 13.8998L4.1325 3H25.9307L17.5859 13.9416Z",fill:"#666666"}))))},cn=n(1313),un=n(395),ln=n(1358),pn=a.a.createContext(),fn=function(){return Object(r.useContext)(pn)},bn=pn,dn=n(445),jn=function(e){var t=e.selectColumns,n=e.selectedColumns,r=e.columnSettings,s=void 0===r?[]:r,o=We.a(k.a("collapsible"),s);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:24},a.a.createElement("h4",null,a.a.createElement("strong",null,Object(O.a)("Select visible columns","sitepress"))))),a.a.createElement(dn.a.Group,{onChange:t,value:n},o.map((function(e){var t=e.id,n=e.title;return a.a.createElement(Ct.a,{key:t},a.a.createElement(Ft.a,{span:24},a.a.createElement(dn.a,{value:t},n)))}))))},mn=function(e){var t=e.onChange,n=e.includeProfessionalTranslations;return a.a.createElement(dn.a,{onChange:t,checked:n},Object(O.a)("Include jobs from translation services","sitepress"))},hn=n(1322),vn=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.currentlySelectedOptions,o=void 0===s?[]:s,i=Object(c.h)(k.a("settings")),u=i.hasTranslationServiceJobs,l=i.page,p=Object(c.h)(he.a(["columnsManagement","columns"]));return a.a.createElement("div",{style:{padding:16}},a.a.createElement(jn,{selectColumns:function(e){var r=[e,ve.a(!1,1,n)];t(r)},selectedColumns:ve.a([],0,n),columnSettings:p}),u&&"translation-queue"===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(hn.a,null),a.a.createElement(mn,{onChange:function(e){var r=[ve.a([],0,n),e.target.checked];t(r)},includeProfessionalTranslations:ve.a(!1,1,n)})),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(_t,{confirm:function(){return r()},reset:function(){t(o),r()},resetLabel:Object(O.a)("Cancel","sitepress"),submitLabel:Object(O.a)("Apply","sitepress")})))},yn=function(e,t){return{key:"actions",width:"120px",fixed:"right",className:"wpml-actions",title:Object(O.a)("Actions","sitepress"),filterIcon:function(){return a.a.createElement(ln.a,null)},filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,s=t.confirm;return a.a.createElement(vn,{setSelectedKeys:n,selectedKeys:r,confirm:s,currentlySelectedOptions:e})},filteredValue:e,render:function(e,n){return a.a.createElement(bn.Provider,{value:{job:n}},t)}}},On=function(){var e=Object(c.h)(he.a(["columnsManagement","columns"])),t=Object(c.h)(k.a("includeProfessionalTranslations")),n=Object(c.g)(he.a(["columnsManagement","showColumns"])),r=Object(c.g)(k.a("setIncludeProfessionalTranslations")),a=[me.a(We.a(k.a("collapsible")),we.a(k.a("collapsed")),G.a("id"))(e),t];return[un.a(yn,[a]),function(e){if(cn.a("actions",e)){var a=lt.a([],["actions",0],e);n(a);var s=lt.a(!1,["actions",1],e);t!==s&&r(s),delete e.actions}return e}]};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=function(e){var t=e.children,n=Object(c.h)(k.a("jobs")),s=Object(c.h)(k.a("total")),o=Object(c.h)(k.a("currentPage")),i=Object(c.h)(k.a("pageSize")),u=Object(c.h)(k.a("loading")),l=Object(c.h)(k.a("filters")),p=Object(c.h)(k.a("sorting")),f=Object(c.h)(he.a(["columnsManagement","columns"])),b=Object(c.h)(he.a(["bulkActions","inProgress"])),d=Object(c.g)(k.a("setSorting")),j=Object(c.g)(k.a("setPagination")),m=Object(c.g)(k.a("setFiltersAndPagination")),h=Object(c.g)(k.a("initialize")),v=Object(c.g)(k.a("setSelectedJobIds")),y=Object(c.g)(k.a("setMouseOverJobId")),g=On(),w=Oe()(g,2),E=w[0],T=w[1],P={total:s,pageSize:i,current:o};Object(r.useEffect)((function(){h()}),[]);var _=Object(r.useRef)(null),x=function(e,t,n,r){return n.filter((function(e){return!e.collapsed})).map((function(t){return sn[t.id](e,t.title,t.options,r)})).map((function(e){return $t.a([0,"columnKey"],e.key,t)&&(e.sortOrder=he.a([0,"order"],t)),e}))}(l,p,f,_);x.push(E(t));var I=je.a((function(e){return wn(wn({},e),{},{key:e.id})})),D=!!f.find((function(e){return"deadline_date"===e.id})),N=a.a.createElement("i",{className:"anticon anticon-spin otgs-ico-spinner"}),L={indicator:a.a.createElement(tt.a,{tip:b?Object(O.a)("The bulk action is running...","sitepress"):u,style:{width:300,marginLeft:"-150px"},indicator:N}),spinning:!!u||b};return a.a.createElement(nt.a,{className:"ant-table-striped-rows",scroll:{x:!0},columns:x,dataSource:I(n),loading:L,pagination:P,onChange:function(e,t,n,r){var a,s=r.action;switch((a=new URLSearchParams(location.search)).delete("status"),window.history.replaceState({},"","".concat(location.pathname,"?").concat(a)),s){case"filter":t=T(t),t=we.a(Ee.a([Te.a,se.a]),t),ge.a(l,t)||m({currentPage:1,pageSize:e.pageSize,filters:t});break;case"sort":n=function(e){return Array.isArray(e)||(e=[e]),e.map(rt.a(["columnKey","order"]))}(n),d(n);break;case"paginate":j({currentPage:e.current<=0?1:e.current,pageSize:e.pageSize})}},rowSelection:{type:"checkbox",onChange:function(e,t){v(G.a("id",t))}},rowClassName:function(e){return D&&Object(S.p)(e)?"wpml-overdue-job":""},sticky:{offsetHeader:"25px"},style:{marginTop:"10px"},onRow:function(e){return{onMouseEnter:function(){return y(e.id)},onMouseLeave:function(){return y(null)}}},locale:{triggerDesc:Object(O.a)("Sort descending","sitepress"),triggerAsc:Object(O.a)("Sort ascending","sitepress"),cancelSort:Object(O.a)("Cancel sorting","sitepress")}})},Tn=function(e){var t=e.onClick,n=e.title,r=e.children,s=e.className,o=void 0===s?"":s,c=e.inProgress,i=void 0!==c&&c;return a.a.createElement(st.a,{title:n},a.a.createElement(ft.a,{type:"ghost",shape:"circle",loading:i,onClick:t,icon:r,"aria-label":n,className:o}))};Tn.propTypes={onClick:ut.a.func,title:ut.a.string,children:ut.a.node,className:ut.a.string,inProgress:ut.a.bool};var kn=Tn,Pn=function(e){var t=e.job,n=e.cancelJob,s=Object(r.useState)(!1),o=Oe()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:e.sent||i(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(kn,{onClick:l,title:Object(O.a)("Cancel job","sitepress"),className:"wpml-cancel-action",inProgress:c},a.a.createElement("i",{className:"otgs-ico otgs-ico-trash"}))};Pn.propTypes={job:ut.a.object,cancelJob:ut.a.func};var Sn=function(e){var t=e.job,n=Object(c.g)(k.a("cancelJobs"));return a.a.createElement(Pn,{job:t,cancelJob:function(e){return n([e])}})};Sn.propTypes={job:ut.a.object};var _n=Sn,xn=function(e){var t=e.job,n=e.syncBatch,s=e.translationProxyBatchSyncIds,o=void 0===s?[]:s,c=Object(r.useState)(!1),i=Oe()(c,2),l=i[0],f=i[1],b=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(o.includes(t.batch.tp_id))}),[o]),a.a.createElement(kn,{onClick:b,title:Object(O.a)("Start batch sync","sitepress"),className:"wpml-batch-sync-action",inProgress:l},a.a.createElement("i",{className:"otgs-ico otgs-ico-refresh"}))};xn.propTypes={job:ut.a.object.isRequired,syncBatch:ut.a.func.isRequired,translationProxyBatchSyncIds:ut.a.array.isRequired};var In=function(e){var t=e.job,n=Object(c.h)(k.a("translationProxyBatchSyncIds")),r=Object(c.g)(k.a("translationProxyBatchSync")),s=Object(c.h)(k.a("jobs"));return a.a.createElement(xn,{job:t,syncBatch:function(e){return r({jobs:[e],storeJobs:s})},translationProxyBatchSyncIds:n})};In.prototype={job:ut.a.object.isRequired};var Dn=In,Nn=function(e){var t=e.job,n=e.downloadXliff,s=void 0===n?function(){}:n,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,s(t);case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(kn,{className:"wpml-download-xliff-action",onClick:f,title:Object(O.a)("Start downloading XLIFF file","sitepress"),inProgress:i},a.a.createElement("i",{className:"otgs-ico otgs-ico-download"}))};Nn.propTypes={job:ut.a.object,downloadXliff:ut.a.func};var Ln=function(e){var t=e.job,n=Object(c.g)(k.a("downloadXliff"));return a.a.createElement(Nn,{job:t,downloadXliff:function(e){return n(e)}})};Ln.propTypes={job:ut.a.object};var Rn=Ln,An=n(1351),Cn=function(e){var t=e.job,n=e.getTranslation,s=Object(r.useState)(!1),o=Oe()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(kn,{onClick:l,title:Object(O.a)("Get translation","sitepress"),className:"wpml-download-translation-action",inProgress:c},a.a.createElement("i",{className:"otgs-ico otgs-ico-doc"}))};Cn.propTypes={job:ut.a.object.isRequired,getTranslation:ut.a.func.isRequired};var Fn=function(e){var t=e.job,n=Object(c.g)(k.a("applyTranslations"));return a.a.createElement(Cn,{job:t,getTranslation:function(e){return n([e])}})};Fn.propTypes={job:ut.a.object.isRequired};var Jn=Fn,Mn=function(){var e=fn().job,t=Object(c.h)(he.a(["settings","translationService"])),n=Object(S.g)(t,e);return a.a.createElement(An.b,null,n&&Object(S.c)(e)&&a.a.createElement(Dn,{job:e}),n&&Object(S.e)(e)&&a.a.createElement(Jn,{job:e}),n&&Object(S.f)(e)&&a.a.createElement(Rn,{job:e}),Object(S.d)(e)&&a.a.createElement(_n,{job:e}))},zn=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:window.location.href=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{className:"wpml-take-and-translate-action",onClick:f,loading:i,type:"secondary"},function(e){return function(e){return s.ID===e.translator_id}(e)?Object(O.a)("Translate","sitepress"):Object(O.a)("Take and Translate","sitepress")}(t))};zn.propTypes={job:ut.a.object.isRequired,openEditor:ut.a.func.isRequired,translator:ut.a.object.isRequired};var qn=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(lt.a([],["settings","currentUser"]));return a.a.createElement(zn,{job:t,openEditor:n,translator:r})};qn.propTypes={job:ut.a.object.isRequired};var Wn=qn,Kn=function(e){var t=e.job,n=e.resign,s=Object(r.useState)(!1),o=Oe()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{onClick:l,loading:c,type:"link",className:"wpml-resign-action"},Object(O.a)("Resign","sitepress"))};Kn.propTypes={job:ut.a.object.isRequired,resign:ut.a.func.isRequired};var Bn=function(e){var t=e.job,n=Object(c.g)(k.a("resign"));return a.a.createElement(Kn,{job:t,resign:function(e){return n([e])}})};Bn.propTypes={job:ut.a.object.isRequired};var Gn=Bn,Un=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:window.location.href=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{className:"wpml-review-in-ate-action",onClick:f,loading:i,type:"secondary"},Object(O.a)("Review","sitepress"))};Un.propTypes={job:ut.a.object.isRequired,openEditor:ut.a.func.isRequired,translator:ut.a.object.isRequired};var Xn=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(lt.a([],["settings","currentUser"]));return a.a.createElement(Un,{job:t,openEditor:n,translator:r})};Xn.propTypes={job:ut.a.object.isRequired};var Vn=Xn,Yn=function(e){var t=e.job,n=e.elementType,s=e.targetLanguageCodes,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),localStorage.setItem("continueReview",!0),r=function(){if(!k.a("view_url",t))return"";var e=new URL(k.a("view_url",t));return se.a(s)||e.searchParams.append("targetLanguages",s.join(",")),se.a(n)||e.searchParams.append("element_type",n),e.toString()},window.location.href=r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{onClick:f,loading:i,type:"secondary",className:"wpml-review-action"},Object(O.a)("Review","sitepress"))};Yn.propTypes={job:ut.a.object.isRequired};var Hn=function(e){var t=e.job,n=Object(c.h)(k.a("filters")),r=ve.a("","element_type",n),s=ve.a([],1,n.language);return a.a.createElement(Yn,{job:t,elementType:r,targetLanguageCodes:s})},Qn=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=Oe()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:if(!e.sent){e.next=8;break}return e.next=7,n({job:t,translatorId:s.ID});case 7:window.location.href=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{onClick:f,loading:i,type:"secondary",className:"wpml-edit-action"},Object(O.a)("Edit","sitepress"))};Qn.propTypes={job:ut.a.object.isRequired,openEditor:ut.a.func.isRequired,translator:ut.a.object.isRequired};var Zn=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(he.a(["settings","currentUser"]));return a.a.createElement(Qn,{job:t,openEditor:n,translator:r})};Zn.propTypes={job:ut.a.object.isRequired};var $n=Zn,er=function(e){var t=e.job,n=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href=ve.a("","view_url",t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ft.a,{type:"link",onClick:n,className:"wpml-view-action"},Object(O.a)("View","sitepress-"))};er.propTypes={job:ut.a.object.isRequired};var tr=er,nr=function(e){var t=e.job,n=function(e){var t=k.a("view_url",e);if(t){var n=new URL(t);return n.searchParams.append("editFromReviewPage",1),n.toString()}}(t),r=new URL(ve.a("","edit_url",t));return n&&r.searchParams.append("return_url",n),a.a.createElement(ft.a,{className:"wpml-continue-review-action",href:r.toString(),type:"secondary"},Object(O.a)("Continue reviewing","sitepress"))};nr.propTypes={job:ut.a.object.isRequired};var rr=nr,ar=[S.b.WAITING_FOR_TRANSLATOR,S.b.IN_PROGRESS,S.b.ATE_NEEDS_RETRY],sr=ue.a("status",S.b.COMPLETED),or=function(e){var t=e.job;return a.a.createElement(a.a.Fragment,null,Object(S.c)(t)&&a.a.createElement(Dn,{job:t}),Object(S.e)(t)&&a.a.createElement(Jn,{job:t}))},cr=function(e){var t=e.job,n=e.currentTranslator;return a.a.createElement(a.a.Fragment,null,function(e){return Object(S.l)(e)&&!Object(S.h)(e)}(t)&&a.a.createElement(Wn,{job:t}),function(e){return!Object(S.h)(e)&&sr(e)}(t)&&a.a.createElement($n,{job:t}),function(e){return Object(S.q)(e)&&Object(S.h)(e)}(t)&&a.a.createElement(Vn,{job:t}),function(e){return Object(S.r)(e)&&ue.a("review_status","NEEDS_REVIEW",e)}(t)&&a.a.createElement(Hn,{job:t}),function(e){return Object(S.r)(e)&&ue.a("review_status","EDITING",e)}(t)&&a.a.createElement(rr,{job:t}),a.a.createElement(An.b,null,function(e,t){return Object(S.l)(t)&&Object(S.o)(t)&&function(e,t){return t.ID===e.translator_id}(t,e)}(n,t)&&a.a.createElement(Gn,{job:t}),function(e){return!Object(S.h)(e)&&ve.a(!1,"view_url",e)}(t)&&a.a.createElement(tr,{job:t})))},ir=function(){var e=fn().job,t=Object(c.h)(lt.a([],["settings","currentUser"])),n=Object(c.h)(he.a(["settings","translationService"]));if(function(e){return e.status===S.b.CANCELLED||e.is_ate_job&&(e.hasInsufficientBalance||Object(S.k)(e)&&D.a(e.status,ar))}(e))return a.a.createElement(An.b,null);var r=Object(S.g)(n,e);return a.a.createElement("div",{className:"wpml-actions__jobs"},!Object(S.n)(e)&&r?a.a.createElement(or,{job:e}):a.a.createElement(cr,{job:e,currentTranslator:t}))},ur=ut.a.shape({type:ut.a.string.isRequired,message:ut.a.string.isRequired,description:ut.a.string}),lr=n(154),pr=function(e){var t=e.notification,n=e.clearNotifications;return Object(r.useEffect)((function(){return lr.a[t.type]({message:t.message,description:t.description,closeIcon:a.a.createElement(fr,null),className:t.type,top:40,duration:5,onClose:function(){return n()}}),function(){lr.a.destroy()}}),[t]),a.a.createElement(a.a.Fragment,null)};pr.propTypes={notification:ur.isRequired,clearNotifications:ut.a.func.isRequired};var fr=function(){return a.a.createElement("i",{className:"otgs-ico otgs-ico-cancel"})},br=pr,dr=n(856),jr=n.n(dr),mr=function(e){var t=e.notifications,n=e.clearNotifications;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(br,{key:"wpml-notification-"+jr()(e),notification:e,clearNotifications:n})})))};mr.propTypes={notifications:ut.a.arrayOf(ur).isRequired,clearNotifications:ut.a.func.isRequired};var hr=function(){var e=Object(c.h)(k.a("notifications")),t=Object(c.g)(k.a("clearNotifications"));return a.a.createElement(mr,{notifications:e,clearNotifications:t})},vr=n(203),yr=function(e){var t="GET_TRANSLATION"===e.action?Object(O.a)("Actions applied to multiple translation jobs can take a few minutes. Please do not leave the page.","sitepress"):Object(O.a)("Actions applied to multiple translation jobs can take a few seconds. Please do not leave the page.","sitepress");return a.a.createElement(vr.a,{showIcon:!0,closable:!0,message:t,type:"info",description:" ",className:"wpml-bulk-action-info"})},Or=function(){var e=Object(c.h)(he.a(["bulkActions","selectedAction"]));return a.a.createElement(yr,{action:e})},gr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=Object(c.h)(lt.a(t,["settings","bulkActionInfoDelay"])),a=Object(r.useState)(!1),s=Oe()(a,2),o=s[0],i=s[1],u=Object(r.useState)(null),l=Oe()(u,2),p=l[0],f=l[1],b=function(e){return setTimeout((function(){i(e)}),n)};return Object(r.useEffect)((function(){var t=null;return e?p||f(b(!0)):(p&&(clearTimeout(p),f(null)),o&&(t=b(!1))),function(){t&&clearTimeout(t)}}),[e]),o},wr=pt.a.Option,Er="NONE",Tr=function(e){var t=e.selectedJobs,n=void 0===t?[]:t,r=e.actionFactories,s=void 0===r?[]:r,o=e.inProgress,c=e.setInProgress,i=e.selectedAction,l=e.setSelectedAction,f=gr(o),b=[a.a.createElement(wr,{value:Er,key:Er},Object(O.a)("Bulk actions","sitepress"))],d=s.map((function(e){return e(n,c)}));d.forEach((function(e){var t=e.name,n=e.label;b.push(a.a.createElement(wr,{value:t,key:t},n))}));var j=function(){var e=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i!==Er){e.next=2;break}return e.abrupt("return");case 2:if(c(!0),!(t=oe.a(ue.a("name",i),d))){e.next=7;break}return e.next=7,t.perform();case 7:c(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(An.b,{className:"wpml-bulk-actions"},a.a.createElement(pt.a,{size:"default",style:{width:"225px"},defaultValue:Er,value:i,onChange:l,disabled:o},b),a.a.createElement(ft.a,{type:"primary",onClick:j,size:"middle",style:{width:90},loading:o,disabled:i===Er},Object(O.a)("Apply","sitepress")),d.filter(k.a("hasSomethingToRender")).map((function(e){return e.render()})),a.a.createElement(hn.a,null),f&&a.a.createElement(Or,null))};Tr.propTypes={selectedJobs:ut.a.arrayOf(ut.a.object),actionFactories:ut.a.arrayOf(ut.a.func),inProgress:ut.a.bool,setInProgress:ut.a.func,selectedAction:ut.a.string,setSelectedAction:ut.a.func};var kr=function(e){var t=e.actionFactories,n=Object(c.h)(k.a("selectedJobs")),r=Object(c.h)(k.a("bulkActions")),s=r.inProgress,o=r.selectedAction,i=Object(c.g)(k.a("bulkActions")),u=i.setInProgress,l=i.setSelectedAction;return a.a.createElement(Tr,{selectedJobs:n,actionFactories:t,inProgress:s,selectedAction:o,setInProgress:u,setSelectedAction:l})},Pr=function(){var e=Object(c.g)(k.a("setNotification"));return function(){var t=p()(u.a.mark((function t(n,r,a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.filter(n),!se.a(s)){t.next=5;break}return t.abrupt("return",e(new m("warning",Object(O.a)("This action does not apply to any of the selected translation jobs","sitepress-multilingual-cms"))));case 5:return t.abrupt("return",r(s));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},Sr=function(){var e=Object(c.g)(k.a("cancelJobs")),t=Object(c.g)(k.a("loadJobs")),n=Pr(),r=function(){var n=p()(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:if(!n.sent){n.next=5;break}return n.next=5,t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return function(e){return{name:"CANCEL",label:Object(O.a)("Cancel jobs","sitepress"),perform:(t=p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(S.d,r,e));case 1:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),hasSomethingToRender:!1};var t}},_r=function(){var e=Object(c.g)(k.a("applyTranslations")),t=Pr();return function(n){return{name:"GET_TRANSLATION",label:Object(O.a)("Get translations","sitepress"),perform:(r=p()(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t(S.e,e,n));case 1:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!1};var r}},xr=function(){var e=[Sr(),_r()];return a.a.createElement(kr,{actionFactories:e})},Ir=n(865),Dr=function(e){var t=Object(c.g)(k.a("exportToXLIFF")),n=Pr();return function(r){return{name:"EXPORT_XLIFF_".concat(e),label:Object(O.c)(Object(O.a)("Export to XLIFF %s","sitepress"),e),perform:(a=p()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n(Ir.a,(function(n){return t({version:e.replace(".",""),jobs:n})}),r));case 1:case"end":return a.stop()}}),a)}))),function(){return a.apply(this,arguments)}),hasSomethingToRender:!1};var a}},Nr=function(){var e=Object(c.g)(k.a("approveTranslationsReviews")),t=Pr();return function(n){return{name:"APPROVE_TRANSLATIONS_REVIEWS",label:Object(O.a)("Approve translation reviews","sitepress"),perform:(r=p()(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t(S.h,e,n));case 1:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!1};var r}},Lr=n(529),Rr=n(26),Ar=function(e){var t=e.selectedJobs,n=e.isDialogVisible,r=e.setIsDialogVisible,s=e.setIsInProgress,o=e.cancelTranslationReviews,c=function(){return r(!1)},i=function(){var e=p()(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),r(!1),e.next=4,o({jobs:t,deleteDrafts:n});case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct.a,{gutter:[0,32]},a.a.createElement(Ft.a,{span:12,align:"left"},a.a.createElement(Rr.a,{type:"secondary",onClick:function(){return i(!0)}},Object(O.a)("Delete Translations","sitepress"))),a.a.createElement(Ft.a,{span:12,align:"right"},a.a.createElement(Rr.a,{type:"primary",onClick:function(){return i(!1)}},Object(O.a)("Keep Translations as Draft","sitepress")))),a.a.createElement(Ct.a,{gutter:[0,32]},a.a.createElement(Ft.a,null,a.a.createElement(Rr.a,{type:"link",onClick:c},Object(O.a)("Never mind. I want to review these translations.","sitepress"))))):a.a.createElement(Ct.a,null,a.a.createElement(Ft.a,{span:12,align:"left"},a.a.createElement(Rr.a,{type:"secondary",onClick:c},Object(O.a)("Cancel","sitepress")))),f=a.a.createElement("p",null,Object(O.a)("This will remove the selected jobs from the Translations Queue without publishing them. What would you like to do with the translations?","sitepress"));return a.a.createElement(Lr.a,{title:Object(O.a)("Cancel Translation Review","sitepress"),visible:n,onCancel:c,maskClosable:!1,destroyOnClose:!0,footer:l,className:"wpml-wizard__modal"},f)};Ar.propTypes={selectedJobs:ut.a.arrayOf(ut.a.object).isRequired,isDialogVisible:ut.a.bool.isRequired,setIsDialogVisible:ut.a.func.isRequired,setIsInProgress:ut.a.func.isRequired,cancelTranslationReviews:ut.a.func};var Cr=function(){var e=Object(r.useState)(!1),t=Oe()(e,2),n=t[0],s=t[1],o=Object(c.g)(k.a("cancelTranslationReviews")),i=Pr();return function(e,t){return{name:"CANCEL_TRANSLATION_REVIEWS",label:Object(O.a)("Cancel translation reviews","sitepress"),perform:(r=p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(S.h,(function(){return s(!0)}),e));case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!0,render:function(){return a.a.createElement(Ar,{key:"CANCEL_TRANSLATION_REVIEWS",selectedJobs:e.filter(S.h),isDialogVisible:n,setIsDialogVisible:s,setIsInProgress:t,cancelTranslationReviews:o})}};var r}},Fr=function(){var e=Object(c.h)(he.a(["settings","reviewMode"])),t=Nr(),n=Cr(),r=[t];return"before-publish"===e&&r.push(n),r=[].concat(C()(r),[Dr("1.0"),Dr("1.1"),Dr("1.2")]),a.a.createElement(kr,{actionFactories:r})},Jr=n(846),Mr=pt.a.Option,zr="EXPORT_XLIFF_1_0",qr="EXPORT_XLIFF_1_1",Wr="EXPORT_XLIFF_1_2",Kr=function(e){var t=e.filters,n=e.exportALLToXLIFF,s=e.disabled,o=void 0!==s&&s,i=Object(c.h)(k.a("settings")),l=he.a(["xliffExport","xliffDefaultVersion"],i);switch(l){case 10:l=zr;break;case 11:l=qr;break;default:l=Wr}var f=Object(r.useState)(l),b=Oe()(f,2),d=b[0],j=b[1],m=Object(r.useState)(!1),h=Oe()(m,2),v=h[0],y=h[1],g=function(){var e=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t=d.slice("EXPORT_XLIFF_".length).replace("_",""),e.next=4,n(t);case 4:y(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(An.b,{size:"middle"},a.a.createElement(pt.a,{id:"wpml_xliff_version",size:"default",style:{width:"225px"},onChange:j,disabled:o||v,value:d},a.a.createElement(Mr,{value:zr,key:zr},Jr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.0","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.0","sitepress")),a.a.createElement(Mr,{value:qr,key:qr},Jr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.1","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.1","sitepress")),a.a.createElement(Mr,{value:Wr,key:Wr},Jr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.2","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.2","sitepress"))),a.a.createElement(ft.a,{id:"wpml_xliff_download",type:"primary",disabled:o,loading:v,onClick:g,style:{width:"100px"}},Object(O.a)("Export","sitepress")))},Br=n(1337),Gr=function(){return a.a.createElement("i",{className:"otgs-ico-upload"})},Ur=function(e){var t=e.importXLIFF,n=Object(r.useState)([]),s=Oe()(n,2),o=s[0],c=s[1],i=Object(r.useState)(!1),l=Oe()(i,2),f=l[0],b=l[1],d=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,t(o[0]);case 3:c([]),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(An.b,{size:"middle",align:"start",className:"wpml-upload-file"},a.a.createElement(Br.a,{id:"wpml_upload-xliff-file",onRemove:function(){c([])},beforeUpload:function(e){return c([e]),!1},fileList:o,accept:".zip, .xliff",multiple:!1},a.a.createElement(ft.a,{icon:a.a.createElement(Gr,null),style:{width:"225px"}},Object(O.a)("Select File","sitepress"),a.a.createElement("span",{className:"wpml-extension"},Object(O.a)(".xliff .zip","sitepress")))),a.a.createElement(ft.a,{type:"primary",id:"wpml_xliff_upload",onClick:d,disabled:0===o.length,loading:f,style:{width:"100px"}},f?Object(O.a)("Importing","sitepress"):Object(O.a)("Import","sitepress")))},Xr=function(e){var t=e.filters,n=e.disabled,r=e.exportALLToXLIFF,s=e.importXLIFF;return a.a.createElement("div",null,a.a.createElement(hn.a,null),a.a.createElement("h3",null,Object(O.a)("Import / Export XLIFF","sitepress")),a.a.createElement(Ct.a,{gutter:[0,16]},a.a.createElement(Ft.a,null,a.a.createElement(Kr,{filters:t,disabled:n,exportALLToXLIFF:r}))),a.a.createElement(Ct.a,{gutter:[0,16],align:"top"},a.a.createElement(Ft.a,null,a.a.createElement(Ur,{importXLIFF:s}))))},Vr=function(){var e=Object(c.h)(k.a("filters")),t=Object(c.h)(k.a("jobs")),n=Object(c.g)(k.a("exportALLToXLIFF")),r=Object(c.g)(k.a("importXLIFF"));return a.a.createElement(Xr,{filters:e,disabled:!Jr.a(t),exportALLToXLIFF:n,importXLIFF:r})},Yr=(n(590),n(1243),n(1244),n(423)),Hr=n(431),Qr=n(867),Zr=n(1326),$r=n(1312),ea=n(1317),ta=n(1329),na=n(1330),ra=n(1331),aa=n(869),sa=n(857),oa=n(449);function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ia="id",ua="title",la="element_type",pa="language",fa="batch_name",ba="translated_by",da="sent_date",ja="deadline_date",ma="status",ha=function(e,t,n,r,a,s,o,c){var i,u,l,p,f,b,d,j=me.a(je.a((function(e){return k.a("text",oe.a(ue.a("value",e))(c))})),Zr.a(", ")),m=function(e){return Object(ht.sprintf)("%s - %s",ve.a("*",0,e),ve.a("*",1,e))},h=function(e){return e.length>30?"".concat(e.substring(0,30),"..."):e};switch(e){case ia:return Object(ht.sprintf)(Object(O.a)("ID (%s)","sitepress"),t);case ua:return Object(ht.sprintf)(Object(O.a)("Title (%s)","sitepress"),n?h(t):t);case la:return Object(ht.sprintf)(Object(O.a)("Type (%s)","sitepress"),(d=t,k.a("label",oe.a(ue.a("name",d))(s))));case pa:return Object(ht.sprintf)(Object(O.a)("Language (%s)","sitepress"),(i=t,u=Oe()(i,2),l=u[0],p=u[1],f="",b=function(e){return me.a(oe.a(ue.a("code",e)),$r.a(Ir.a,k.a("name"),Pe.a(e)))(o)},l&&(f+="From: ".concat(b(l)," ")),se.a(p)||(f+="To: ".concat(p.map(b).join(", "))),f.trim()));case fa:return Object(ht.sprintf)(Object(O.a)("Batch name (%s)","sitepress"),n?h(t):t);case ma:return Object(ht.sprintf)(Object(O.a)("Status (%s)","sitepress"),j(t));case ba:return Object(ht.sprintf)(Object(O.a)("Translated by (%s)","sitepress"),function(e){if(ge.a("any-service",e))return Object(O.a)("Any Translation Service","sitepress");if(ge.a("any-local-translator",e))return Object(O.a)("Any WordPress Translator","sitepress");if(ge.a("automatic",e))return Object(O.a)("Automatic translation","sitepress");var t=me.a(ea.a("service-",""),(function(e){return oe.a(ue.a("value",e))(r)}),k.a("label")),n=me.a(ea.a("translator-",""),(function(e){return parseInt(e)}),(function(e){return oe.a(ue.a("value",e))(a)}),k.a("label"));return ta.a("service",e)?t(e):ta.a("translator",e)?n(e):""}(t));case da:return Object(ht.sprintf)(Object(O.a)("Sent date (%s)","sitepress"),m(t));case ja:return Object(ht.sprintf)(Object(O.a)("Deadline (%s)","sitepress"),m(t));default:return e}},va=function(e){var t=e.filters,n=e.translationServices,r=e.localTranslators,s=e.types,o=e.languages,c=e.availableStatuses,i=e.onClose,u=e.onClearAll,l=na.a(ha,[n,r,s,o,c]),p=me.a(We.a(Ir.a),we.a(se.a),ra.a((function(e,t){return a.a.createElement(Qr.a,{key:t,closable:!0,title:l(t,e,!1),onClose:function(){return i(t)}},l(t,e,!0))})),aa.a())(t);return se.a(p)?a.a.createElement(a.a.Fragment,null):a.a.createElement(An.b,{className:"wpml-filters-list"},p,a.a.createElement(ft.a,{onClick:u,size:"small",style:{width:90},className:"wpml-clear-all",type:"link"},Object(O.a)("Clear all filters","sitepress")))},ya=function(){var e=Object(c.h)(k.a("filters")),t=Object(c.h)(k.a("settings")),n=Object(c.g)(k.a("setFilters")),s=Object(r.useMemo)((function(){return me.a(sa.a(oa.a(),[G.a("source"),me.a(G.a("targets"),Mt.a())]),zt.a())(t.languagePairs)}),[t]);return a.a.createElement(va,{filters:e,onClose:function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete r[t],t===ma&&delete r.needs_update,n(r)},onClearAll:function(){n({})},translationServices:t.translationServices,localTranslators:t.localTranslators,types:t.types,availableStatuses:"translation-queue"===t.page?Xe:Ue,languages:s})},Oa=n(383),ga=function(){var e,t,n,r,s,o,i=WPML_TM_SETTINGS.translationService?$e.a({id:et.a(parseInt)},WPML_TM_SETTINGS.translationService):WPML_TM_SETTINGS.translationService,u=$e.a({status:je.a(et.a(parseInt))}),l=Ze({settings:{isATEEnabled:!!WPML_TM_SETTINGS.isATEEnabled,batchUrl:WPML_TM_SETTINGS.batchUrl,translationService:i,localTranslators:WPML_TM_SETTINGS.localTranslators,translationServices:WPML_TM_SETTINGS.translationServices,isBasketUsed:WPML_TM_SETTINGS.isBasketUsed,languagePairs:WPML_TM_SETTINGS.languagePairs,types:WPML_TM_SETTINGS.types,queryFilters:se.a(WPML_TM_SETTINGS.queryFilters)?{}:u(WPML_TM_SETTINGS.queryFilters),page:WPML_TM_SETTINGS.page,xliffExport:k.a("xliffExport",WPML_TM_SETTINGS),batchSyncTimeout:ve.a(3e4,"batchSyncTimeout",WPML_TM_SETTINGS),currentUser:WPML_TM_SETTINGS.currentUser,endpoints:WPML_TM_SETTINGS.endpoints,hasTranslationServiceJobs:ve.a(!1,"hasTranslationServiceJobs",WPML_TM_SETTINGS),reviewMode:k.a("reviewMode",WPML_TM_SETTINGS),bulkActionInfoDelay:k.a("bulkActionInfoDelay",WPML_TM_SETTINGS)},hasAnyJobsToSync:!!WPML_TM_SETTINGS.hasAnyJobsToSync,syncATEJobs:(s=new Hr.a(new j.a),o=new Oa.a(WPML_TM_SETTINGS.endpoints.getJobsCount),new Yr.a({synchronize:function(e){return s.sync(e)},download:function(e,t){return s.download(e,t)},releaseLock:function(e){return Object(T.a)(WPML_TM_SETTINGS.endpoints.syncLock,{action:"release",lockKey:e})},getJobsCount:o,repeatTimeouts:{sync:(null===(e=WPML_TM_SETTINGS)||void 0===e||null===(t=e.repeatTimeouts)||void 0===t?void 0:t.sync)||5e3,syncDelayed:(null===(n=WPML_TM_SETTINGS)||void 0===n||null===(r=n.repeatTimeouts)||void 0===r?void 0:r.syncDelayed)||1e4}}))}),p="tm-jobs"===WPML_TM_SETTINGS.page?a.a.createElement(xr,null):a.a.createElement(Fr,null);return a.a.createElement(c.a,{store:l},a.a.createElement(hr,null),p,a.a.createElement(ya,null),a.a.createElement(En,null,"tm-jobs"===WPML_TM_SETTINGS.page?a.a.createElement(Mn,null):a.a.createElement(ir,null)),p,"translation-queue"===WPML_TM_SETTINGS.page&&a.a.createElement(Vr,null))},wa=a.a.createElement(ga,null);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#wpml-remote-jobs-container");e&&o.a.render(wa,e)}))},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"r",(function(){return d})),n.d(t,"q",(function(){return j})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"n",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"l",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return S})),n.d(t,"p",(function(){return _})),n.d(t,"g",(function(){return x}));var r=n(51),a=n(526),s=n(527),o=n(39),c=n(113),i=n(48),u=n(131),l=n(396),p=n(202),f={CANCELLED:0,WAITING_FOR_TRANSLATOR:1,IN_PROGRESS:2,NEEDS_UPDATE:3,TRANSLATION_READY_TO_DOWNLOAD:4,COMPLETED:10,ATE_NEEDS_RETRY:40,NEEDS_REVIEW:30},b={IN_PROGRESS:2,TRANSLATED:6,DELIVERING:7,EDITED:15,CANCELLED:20,NO_CREDIT:31,HIDDEN:42},d=Object(r.a)("type","post"),j=Object(r.a)("type","package"),m=Object(a.a)([Object(r.a)("review_status","NEEDS_REVIEW"),Object(r.a)("review_status","EDITING")]),h=function(e){return!!v(e)&&(e.status===f.WAITING_FOR_TRANSLATOR||e.status===f.IN_PROGRESS)},v=function(e){return"local"===e.translation_service_id},y=function(e){return!v(e)&&(e.status===f.IN_PROGRESS||e.status===f.COMPLETED)&&e.batch.tp_id&&!e.isBatchSynced},O=function(e){return!v(e)&&(Object(o.a)("status",e)===f.TRANSLATION_READY_TO_DOWNLOAD||Object(o.a)("status",e)===f.COMPLETED)},g=function(e){return!v(e)&&Object(c.a)(Object(o.a)("status",e),[f.TRANSLATION_READY_TO_DOWNLOAD,f.COMPLETED])},w=Object(i.a)(Object(o.a)("status"),Object(c.a)(u.a,[f.WAITING_FOR_TRANSLATOR,f.IN_PROGRESS])),E=function(e){return t=e.automatic,Object(s.a)(String,t)?"0"!==t&&"false"!==t:!!t;var t},T=Object(l.a)(E),k=function(e,t){return e.id===t.id&&e.type===t.type},P=function(e,t){return void 0!==e.find((function(e){return e.status===t}))},S=function(e){return Object(p.a)(0,["extra_data","icl_translate_job_id"],e)},_=function(e){return!(!e.deadline||!w(e))&&new Date>new Date(e.deadline)},x=function(e,t){return e&&e.id===parseInt(t.translation_service_id)}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p="/wpml/tm/v1",f={getJobs:"".concat(p,"/jobs/"),applyTranslations:"".concat(p,"/tp/apply-translations/"),syncJobsAction:"wpml-tp-sync-job-states",syncBatchAction:"".concat(p,"/tp/batches/sync"),checkSyncBatchAction:"".concat(p,"/tp/batches/status/"),cancelJobs:"".concat(p,"/jobs/cancel/"),downloadTranslation:function(e){var t=e.id,n=e.type;return"".concat(WPML_TM_SETTINGS.restUrl).concat(p,"/tp/xliff/download/").concat(t,"/").concat(n)},assignTranslator:"".concat(p,"/jobs/assign"),cancelTranslationReviews:"".concat(p,"/jobs/translation-reviews/cancel")},b=n(61),d=n.n(b),j=n(9),m=n.n(j);var h=function(e,t){var n=new URL(e,"http://testsite.local");return function(e,t){Object.entries(e).map((function(e){var n=m()(e,2),r=n[0],a=n[1];if(!Array.isArray(a))return"object"===d()(a)?Object.entries(a).map((function(e){var n=m()(e,2),a=n[0],s=n[1];return t.set("".concat(r,"[").concat(a,"]"),s)})):t.set(r,a);a.map((function(e){return t.append("".concat(r,"[]"),e)}))}))}(t,n.searchParams),n.href.replace("http://testsite.local","")},v=n(37),y=n.n(v),O=n(44),g=n.n(O),w=n(40),E=n.n(w),T=n(0),k=n.n(T),P=n(19),S=n.n(P),_=n(55),x=n(31),I=n.n(x),D=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return function(n){return k.a.createElement(t,null,(function(t){return k.a.createElement(e,I()({},n,t))}))}}),(function(t){return k.a.createElement(e,t)}))},N=n(13),L=n.n(N);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var F=k.a.createContext({}),J=(T.Component,F.Consumer);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var z=k.a.createContext({}),q=(T.Component,z.Consumer),W=n(82),K=n(14),B=function(){function e(t,n,r){i()(this,e),this.document=t,this.button=n,this.icons=r,this.progressClass="wpml-sync-and-download-translation-progress"}return l()(e,[{key:"startProcess",value:function(){this.button.classList.add(this.progressClass)}},{key:"handleResult",value:function(e){var t=this;return this.button.classList.remove(this.progressClass),Object(K.j)(e,K.b.IN_PROGRESS)||Object(K.j)(e,K.b.TRANSLATION_READY_TO_DOWNLOAD)||this.button.remove(),e.map((function(n){return t.updateIcon(n),e}))}},{key:"updateIcon",value:function(e){if(e.status===K.b.CANCELLED||e.status===K.b.COMPLETED){var t=e.status;t===K.b.CANCELLED&&e.hasCompletedTranslation&&(t=e.needsUpdate?K.b.NEEDS_UPDATE:K.b.COMPLETED);var n="#wpml-job-status-".concat(e.id," > i"),r=this.document.querySelector(n);if(r){if(this.alreadyHasCorrectIcon(r,e))return;var a=this.icons,s=a.progress,o=a.canceled,c=a.completed,i=a.needsUpdate;switch(t){case K.b.CANCELLED:r.classList.replace(s,o);break;case K.b.NEEDS_UPDATE:r.classList.replace(s,i);break;default:r.classList.replace(s,c)}r.classList.add("wpml-blink"),setTimeout((function(){r.classList.remove("wpml-blink")}),2e3)}}}},{key:"alreadyHasCorrectIcon",value:function(e,t){return e.classList.contains(this.icons.completed)&&t.status===K.b.COMPLETED||e.classList.contains(this.icons.canceled)&&t.status===K.b.CANCELLED}}]),e}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var V=k.a.createContext({}),Y=function(e){y()(r,e);var t,n=X(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).initialState={inProgress:!1,finished:!1,error:!1,confirmationHidden:!1,processedJobs:[]},t.state=t.initialState,t}return l()(r,[{key:"run",value:(t=o()(a.a.mark((function e(){var t,n,r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(U(U({},this.initialState),{},{inProgress:!0})),t=this.defineHooks(),e.prev=2,e.next=5,this.props.createProcess(t).run(this.props.jobs);case 5:this.setState({inProgress:!1,finished:!0}),this.updateJobsIconOnTheList(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({inProgress:!1,finished:!1,error:e.t0});case 12:n=this.props.jobs.filter((function(e){return void 0===r.state.processedJobs.find((function(t){return Object(K.m)(e,t)}))})),this.props.setJobs(n),this.props.refreshLastPickupDate();case 15:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return t.apply(this,arguments)})},{key:"defineHooks",value:function(){var e=this,t=Object(W.a)();return t.addAction("wpml-tm-job-translations-processed","CheckAndDownloadTranslations",(function(t){return e.setState((function(e){return{processedJobs:e.processedJobs.concat(t)}}))})),t}},{key:"updateJobsIconOnTheList",value:function(){var e=new B(document,null,WPML_TM_DASHBOARD.statusIcons);this.state.processedJobs.map((function(t){e.updateIcon(t)}))}},{key:"render",value:function(){var e=this,t=this.props.children;return k.a.createElement(V.Provider,{value:{process:U(U({},this.state),{},{run:function(){return e.run()},hideConfirmation:function(){return e.setState({confirmationHidden:!0})}})}},t)}}]),r}(T.Component),H=V.Consumer;D(Y,J);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}D(function(e){y()(n,e);var t=Q(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.jobs,r=e.strings,a=e.lastPickupDate,s=e.process,o=1===t.length?Object(_.sprintf)(r.numberOfTranslationStringsSingle,1):Object(_.sprintf)(r.numberOfTranslationStringsMulti,t.length),c=1===t.length?Object(_.sprintf)(r.stringsSentToTranslationSingle,"<strong>".concat(o,"</strong>")):Object(_.sprintf)(r.stringsSentToTranslationMulti,"<strong>".concat(o,"</strong>"));return k.a.createElement("div",{className:"wpml-tm-polling otgs-notice message"},k.a.createElement("p",null,k.a.createElement("span",{id:"wpml-tm-polling-jobs-number",dangerouslySetInnerHTML:{__html:c}}),k.a.createElement("input",{type:"button",className:"button button-secondary",value:r.buttonText,onClick:function(){return s.run()},disabled:n.shouldDisableTheButton(a)}),k.a.createElement("span",{id:"wpml-tmp-polling-last-pickup",className:"wpml-tm-polling-last-pickup"},Object(_.sprintf)(r.lastCheck,a?a.local().format("YYYY-MM-DD HH:mm"):r.never))))}}],[{key:"shouldDisableTheButton",value:function(e){return!(WPML_TM_DASHBOARD.debug||!e)&&e.isAfter(S()().utc().subtract(5,"minutes"))}}]),n}(k.a.Component),q,J,H);var Z=function(){function e(t){i()(this,e),this.request=t}var t,n,r;return l()(e,[{key:"synchronizeStatusesWithTP",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new FormData;return t.append("action",f.syncJobsAction),t.append("nonce",WPML_TM_SETTINGS.syncJobStatesNonce),e&&t.append("update_last_picked_up",1),fetch(ajaxurl,{method:"POST",body:t}).then((function(e){if(!e.ok)throw new Error("Status synchronization has failed.");return e.json()})).then((function(e){return e.data}))}},{key:"loadJobs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h(f.getJobs,e);return this.request.get(t)}},{key:"applyTranslation",value:function(e){var t=e.map((function(e){return{id:e.id,type:e.type}}));return this.request.post(f.applyTranslations,t)}},{key:"cancelJobs",value:function(e){var t=e.map((function(e){return{id:e.id,type:e.type}}));return this.request.post(f.cancelJobs,t)}},{key:"syncBatch",value:(r=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={batchId:t},e.abrupt("return",this.request.post(f.syncBatchAction,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkBatchSync",value:(n=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.get(f.checkSyncBatchAction));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyTranslationToElement",value:function(e,t){return this.request.post(f.applyTranslations,{original_element_id:e,element_type:t})}},{key:"assignTranslator",value:function(e,t){var n={jobId:"string"===e.type?e.id:e.extra_data.icl_translate_job_id,type:e.type,translatorId:t};return this.request.post(f.assignTranslator,n)}},{key:"downloadXLIFF",value:(t=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.download(f.downloadTranslation(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15),a=n.n(r),s=n(18),o=n.n(s),c=n(60),i=function(){function e(){a()(this,e)}return o()(e,null,[{key:"dispatchCancelledJobsEvent",value:function(e){Object(c.a)("tp-jobs-cancelled",{cancelledJobs:e})}},{key:"dispatchDownloadedJobsEvent",value:function(e){Object(c.a)("tp-jobs-downloaded",{downloadedJobs:e})}},{key:"dispatchDownloadingJobsDoneEvent",value:function(){Object(c.a)("tp-jobs-downloading-done")}}]),e}()},186:function(e,t,n){},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p=n(127),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;i()(this,e),this.jobAPI=t,this.interval=n,this.MAX_ATTEMPTS=5}var t,n,r;return l()(e,[{key:"run",value:(r=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.syncBatch(t);case 2:return e.abrupt("return",this.checkProgress());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkProgress",value:(n=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.attempts=0;case 1:return e.next=3,this.runCheck();case 3:if(e.sent){e.next=7;break}e.next=1;break;case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"runCheck",value:(t=o()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.a)(o()(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.jobAPI.checkBatchSync();case 2:return n=e.sent,e.abrupt("return",0===n.length||++t.attempts>=t.MAX_ATTEMPTS);case 4:case"end":return e.stop()}}),e)}))),this.interval));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p=n(13),f=n.n(p),b=n(14);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t,n){var r=function(e){return t.find((function(t){return e.id===t.id&&e.type===t.type&&t.status===n}))},a=e.filter((function(e){return e.status===n||void 0!==r(e)})).map((function(e){var t=r(e);return void 0!==t&&(e.hasCompletedTranslation=t.hasCompletedTranslation,e.needsUpdate=t.needsUpdate),e})).map((function(e){return j(j({},e),{},{status:n})})),s=t.filter((function(t){return t.status===n&&void 0===e.find((function(e){return Object(b.m)(e,t)}))}));return a.concat(s)},h=function(){function e(t){i()(this,e),this.jobAPI=t}var t;return l()(e,[{key:"sync",value:(t=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.synchronizeStatusesWithTP(!0);case 2:return n=e.sent,e.abrupt("return",{ready:m(t,n,b.b.TRANSLATION_READY_TO_DOWNLOAD),cancelled:m(t,n,b.b.CANCELLED)});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(13),a=n.n(r),s=n(3),o=n.n(s),c=n(30),i=n.n(c),u=n(7),l=n.n(u),p=n(15),f=n.n(p),b=n(18),d=n.n(b),j=n(14),m=n(162);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){function e(t,n){f()(this,e),this.LIMIT_PER_CHUNK=5,this.REQUEST_NUM_LIMIT=5,this.jobAPI=t,this.hooks=n}var t,n;return d()(e,[{key:"download",value:(n=l()(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.allJobsCount=t.length,this.alreadyProcessedJobs=0,this.jobsToProcess=i()(t),n=[];this.jobsToProcess.length&&n.length<this.REQUEST_NUM_LIMIT;)r=this.getNextJobsSet(),n.push(this.downloadSubset(r));return e.next=7,Promise.all(n);case 7:return m.a.dispatchDownloadedJobsEvent(t),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"downloadSubset",value:(t=l()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.applyTranslation(t);case 2:if(t=t.map((function(e){return v(v({},e),{},{status:j.b.COMPLETED})})),this.alreadyProcessedJobs+=t.length,this.hooks&&this.hooks.doAction("wpml-tm-job-translations-processed",t),!(this.jobsToProcess.length>0)){e.next=7;break}return e.abrupt("return",this.downloadSubset(this.getNextJobsSet()));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getNextJobsSet",value:function(){var e=this.jobsToProcess.slice(0,this.LIMIT_PER_CHUNK);return this.jobsToProcess.splice(0,this.LIMIT_PER_CHUNK),e}}]),e}(),O=function(){function e(t,n){f()(this,e),this.jobAPI=t,this.hooks=n}var t;return d()(e,[{key:"download",value:(t=l()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y(this.jobAPI,this.hooks),e.abrupt("return",n.download(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p=n(16),f=n(202),b=function(){function e(t){i()(this,e),this.endpoint=t}var t;return l()(e,[{key:"get",value:(t=o()(a.a.mark((function e(){var t,n,r,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],e.next=3,Object(p.a)(this.endpoint,{withCache:t});case 3:return n=e.sent,r=function(e){return parseInt(Object(f.a)(0,["data","data",e],n))},e.abrupt("return",{allCount:r("allCount"),allAutomaticCount:r("allAutomaticCount"),automaticWithoutLongstandingCount:r("automaticWithoutLongstandingCount"),needsReviewCount:r("needsReviewCount")});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},423:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(13),a=n.n(r),s=n(3),o=n.n(s),c=n(9),i=n.n(c),u=n(7),l=n.n(u),p=n(30),f=n.n(p),b=n(15),d=n.n(b),j=n(18),m=n.n(j),h=n(505),v=n.n(h),y=n(506),O=n.n(y),g=n(507),w=n.n(g),E=n(48),T=n(39),k=n(113),P=n(131),S=n(63),_=n(399),x=n(51),I=n(873),D=n(877),N=n(71),L=n(874),R=n(396),A=n(201),C=n(397),F=n(525),J=n(398),M=n(14);n(127);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=E.a(T.a("ateStatus"),k.a(P.a,[M.a.TRANSLATED,M.a.DELIVERING,M.a.EDITED]));function K(e){return new Promise((function(t){return setTimeout(t,e)}))}var B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d()(this,e),this.insufficientBalanceJobs=t,this.stillInProgressJobs=n,this.downloaded=r,this.notDownloaded=a,this.lockKey=s}return m()(e,[{key:"prepandPrevioslyDownloadedJobs",value:function(t){return new e(this.insufficientBalanceJobs,this.stillInProgressJobs,[].concat(f()(t),f()(this.downloaded)),this.notDownloaded,this.lockKey)}}]),e}(),G=function(){function e(t){var n=t.synchronize,r=t.download,a=t.releaseLock,s=t.listeners,o=(s=void 0===s?{}:s).onInsufficientBalance,c=void 0===o?[]:o,i=s.onDownloadedChunk,u=void 0===i?[]:i,l=s.onSyncDownloadCycleCompleted,p=void 0===l?[]:l,f=s.onSyncDownloadCompleted,b=void 0===f?[]:f,j=s.onSyncStart,m=void 0===j?[]:j,h=s.onSyncLocked,v=void 0===h?[]:h,y=t.getJobsCount,O=t.repeatTimeouts,g=(O=void 0===O?{}:O).sync,w=void 0===g?5e3:g,E=O.syncDelayed,T=void 0===E?1e4:E,k=O.syncIsLockedDelay,P=void 0===k?6e4:k;d()(this,e),this.synchronize=n,this.download=r,this.releaseLock=a,this.getJobsCount=y,this.onInsufficientBalance=c,this.onDownloadedChunk=u,this.onSyncStart=m,this.onSyncDownloadCycleCompleted=p,this.onSyncDownloadCompleted=b,this.onSyncLocked=v,this.repeatTimeouts={sync:w,syncDelayed:T,syncIsLockedDelay:P}}var t,n,r,a,s,c,u;return m()(e,[{key:"syncSinglePage",value:(u=l()(o.a.mark((function e(){var t,n,r,a,s,c,u,l,p,f,b,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.synchronize(t);case 3:return n=e.sent,r=S.a([],"jobs",n),a=_.a(x.a("ateStatus",M.a.NO_CREDIT),r),s=i()(a,2),c=s[0],u=s[1],l=_.a(W,u),p=i()(l,2),f=p[0],b=p[1],c.length&&this.onInsufficientBalance.forEach((function(e){return e(c)})),e.abrupt("return",{insufficientBalanceJobs:c,readyToDownloadJobs:f,stillInProgressJobs:b,response:n});case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"synchronizeAllPages",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return w()(o.a.mark((function r(){var a,s,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=n?{lockKey:n}:{},s={};case 2:return s=I.a(["lockKey","ateToken","nextPage","numberOfPages"],a),r.next=5,O()(e.syncSinglePage(q(q({},s),{},{includeManualAndLongstandingJobs:t})));case 5:return c=r.sent,a=c.response,r.next=9,{insufficientBalanceJobs:c.insufficientBalanceJobs||[],readyToDownloadJobs:c.readyToDownloadJobs||[],stillInProgressJobs:c.stillInProgressJobs||[],lockKey:T.a("lockKey",a)};case 9:if(S.a(!1,"ateToken",a)){r.next=2;break}case 10:case"end":return r.stop()}}),r)})))()}},{key:"downloadSingleBatch",value:(c=l()(o.a.mark((function e(t,n){var r,a,s,c,u,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.a(parseInt),e.prev=1,e.next=4,this.download(t,n);case 4:return a=e.sent,a=N.a(L.a({jobId:r,status:r}),a),s=function(e){var t=a.find(x.a("jobId",e.jobId));return t?q(q({},e),t):e},c=E.a(N.a(s),_.a(x.a("status",M.b.COMPLETED)))(t),u=i()(c,2),l=u[0],p=u[1],e.abrupt("return",{downloadedJobs:l,notDownloaded:p});case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{notDownloaded:t,downloadedJobs:[]});case 15:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e,t){return c.apply(this,arguments)})},{key:"downloadAll",value:(s=l()(o.a.mark((function e(t,n){var r,a,s,c,i,u,l,p,b=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=R.a(x.a("status",M.b.COMPLETED)),a=[],s=[],c=A.a(C.a(W,r),t),i=F.a(5,c),u=F.a((d=void 0,j=void 0,"undefined"==typeof ate_jobs_sync||null===ate_jobs_sync?2:(null===(d=ate_jobs_sync)||void 0===d||null===(j=d.settings)||void 0===j?void 0:j.numberOfParallelDownloads)||2),i),l=o.a.mark((function e(t){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(N.a((function(e){return b.downloadSingleBatch(e,n)}),u[t]));case 2:if(r=e.sent,c=J.a(N.a(T.a("downloadedJobs"),r)),i=J.a(N.a(T.a("notDownloaded"),r)),!c.length||!b.onDownloadedChunk.length){e.next=8;break}return e.next=8,Promise.all(N.a((function(e){return e(c,parseInt(t))}),b.onDownloadedChunk));case 8:a.push.apply(a,f()(c)),s.push.apply(s,f()(i));case 10:case"end":return e.stop()}}),e)})),e.t0=o.a.keys(u);case 8:if((e.t1=e.t0()).done){e.next=13;break}return p=e.t1.value,e.delegateYield(l(p),"t2",11);case 11:e.next=8;break;case 13:return e.abrupt("return",{downloaded:a,notDownloaded:s});case 14:case"end":return e.stop()}var d,j}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"syncAndDownloadCycle",value:(a=l()(o.a.mark((function e(){var t,n,r,a,s,c,i,u,l,p,b,d,j,m,h,y=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(y.length>0&&void 0!==y[0])||y[0],n=y.length>1&&void 0!==y[1]?y[1]:null,r=[],a=[],s=[],c=[],i=n,u=!0,l=!1,e.prev=9,b=v()(this.synchronizeAllPages(t,i));case 11:return e.next=13,b.next();case 13:return d=e.sent,u=d.done,e.next=17,d.value;case 17:if(j=e.sent,u){e.next=32;break}if(m=j,r.push.apply(r,f()(m.insufficientBalanceJobs)),a.push.apply(a,f()(m.stillInProgressJobs)),i=m.lockKey,!m.lockKey){e.next=29;break}return e.next=26,this.downloadAll(m.readyToDownloadJobs,m.lockKey);case 26:h=e.sent,s.push.apply(s,f()(h.downloaded)),c.push.apply(c,f()(h.notDownloaded));case 29:u=!0,e.next=11;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(9),l=!0,p=e.t0;case 38:if(e.prev=38,e.prev=39,u||null==b.return){e.next=43;break}return e.next=43,b.return();case 43:if(e.prev=43,!l){e.next=46;break}throw p;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.abrupt("return",new B(r,a,s,c,i));case 49:case"end":return e.stop()}}),e,this,[[9,34,38,48],[39,,43,47]])}))),function(){return a.apply(this,arguments)})},{key:"syncAndDownload",value:(r=l()(o.a.mark((function e(){var t,n,r,a,s,c,i,u,l,p=this,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]?f[0]:{},n=t.suspendCycleRepeat,r=void 0!==n&&n,this.onSyncStart.forEach((function(e){return e()})),c=1,i=!0,u=null,l=o.a.mark((function e(){var t,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.syncAndDownloadCycle(i,u);case 2:return n=e.sent,s=n.prepandPrevioslyDownloadedJobs((null===(t=s)||void 0===t?void 0:t.downloaded)||[]),u=n.lockKey||null,i=!u,e.next=8,p.getJobsCount.get();case 8:return l=e.sent,e.next=11,Promise.all(p.onSyncDownloadCycleCompleted.map((function(e){return e(l,n)})));case 11:if(!r){e.next=17;break}if(e.t0=u,!e.t0){e.next=16;break}return e.next=16,p.releaseLock(n.lockKey);case 16:return e.abrupt("return","break");case 17:if(!u){e.next=23;break}return e.next=20,p._shouldRetryWithLock(c,n,l);case 20:e.t1=e.sent,e.next=26;break;case 23:return e.next=25,p._shouldRetryWithoutLock(c,l,a);case 25:e.t1=e.sent;case 26:c=e.t1,a=l;case 28:case"end":return e.stop()}}),e)}));case 6:return e.delegateYield(l(),"t0",7);case 7:if("break"!==e.t0){e.next=10;break}return e.abrupt("break",11);case 10:if(c){e.next=6;break}case 11:return this.onSyncDownloadCompleted.forEach((function(e){return e(s)})),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_shouldRetryWithLock",value:(n=l()(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.automaticWithoutLongstandingCount<=n.insufficientBalanceJobs.length||t>=10)){e.next=4;break}return e.next=3,this.releaseLock(n.lockKey);case 3:return e.abrupt("return",!1);case 4:return t=n.downloaded.length>0?1:t+1,a=n.downloaded.length>0?this.repeatTimeouts.sync:t*this.repeatTimeouts.syncDelayed,e.next=8,K(a);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_shouldRetryWithoutLock",value:(t=l()(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.automaticWithoutLongstandingCount<=0)){e.next=2;break}return e.abrupt("return",!1);case 2:if(!((t=!r||r.automaticWithoutLongstandingCount>n.automaticWithoutLongstandingCount?1:t+1)>=3)){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,K(this.repeatTimeouts.syncIsLockedDelay);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()},431:function(e,t,n){"use strict";var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p={createJob:"/wpml/tm/v1/ate/jobs",sync:"/wpml/tm/v1/ate/jobs/sync",retry:"/wpml/tm/v1/ate/jobs/retry",download:"/wpml/tm/v1/ate/jobs/download",fixJobStatus:function(e,t){return"/wpml/tm/v1/ate/jobs/".concat(e,"/fix?jobId=").concat(t)},getJobStatus:function(e){return"/wpml/tm/v1/ate/jobs/".concat(e)}},f=function(){function e(t){i()(this,e),this.request=t}var t,n,r;return l()(e,[{key:"createJob",value:function(e){var t=e.xliff,n=e.returnURL,r=t.sourceLang,a=t.targetLang,s=t.content;return this.request.post(p.createJob,{source_language:r,target_language:a,file:{name:"some_page_en_fr.xliff",type:"data:application/x-xliff;base64",content:s},return_url:n})}},{key:"getJobStatus",value:function(e){return this.request.get(p.getJobStatus(e))}},{key:"fixJobStatus",value:function(e,t){return this.request.get(p.fixJobStatus(e,t))}},{key:"sync",value:(r=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.sync,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"retry",value:(n=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.retry,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"download",value:(t=o()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.download,{jobs:t,lockKey:n}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();t.a=f},589:function(e,t,n){var r={"./af":229,"./af.js":229,"./ar":230,"./ar-dz":231,"./ar-dz.js":231,"./ar-kw":232,"./ar-kw.js":232,"./ar-ly":233,"./ar-ly.js":233,"./ar-ma":234,"./ar-ma.js":234,"./ar-sa":235,"./ar-sa.js":235,"./ar-tn":236,"./ar-tn.js":236,"./ar.js":230,"./az":237,"./az.js":237,"./be":238,"./be.js":238,"./bg":239,"./bg.js":239,"./bm":240,"./bm.js":240,"./bn":241,"./bn-bd":242,"./bn-bd.js":242,"./bn.js":241,"./bo":243,"./bo.js":243,"./br":244,"./br.js":244,"./bs":245,"./bs.js":245,"./ca":246,"./ca.js":246,"./cs":247,"./cs.js":247,"./cv":248,"./cv.js":248,"./cy":249,"./cy.js":249,"./da":250,"./da.js":250,"./de":251,"./de-at":252,"./de-at.js":252,"./de-ch":253,"./de-ch.js":253,"./de.js":251,"./dv":254,"./dv.js":254,"./el":255,"./el.js":255,"./en-au":256,"./en-au.js":256,"./en-ca":257,"./en-ca.js":257,"./en-gb":258,"./en-gb.js":258,"./en-ie":259,"./en-ie.js":259,"./en-il":260,"./en-il.js":260,"./en-in":261,"./en-in.js":261,"./en-nz":262,"./en-nz.js":262,"./en-sg":263,"./en-sg.js":263,"./eo":264,"./eo.js":264,"./es":265,"./es-do":266,"./es-do.js":266,"./es-mx":267,"./es-mx.js":267,"./es-us":268,"./es-us.js":268,"./es.js":265,"./et":269,"./et.js":269,"./eu":270,"./eu.js":270,"./fa":271,"./fa.js":271,"./fi":272,"./fi.js":272,"./fil":273,"./fil.js":273,"./fo":274,"./fo.js":274,"./fr":275,"./fr-ca":276,"./fr-ca.js":276,"./fr-ch":277,"./fr-ch.js":277,"./fr.js":275,"./fy":278,"./fy.js":278,"./ga":279,"./ga.js":279,"./gd":280,"./gd.js":280,"./gl":281,"./gl.js":281,"./gom-deva":282,"./gom-deva.js":282,"./gom-latn":283,"./gom-latn.js":283,"./gu":284,"./gu.js":284,"./he":285,"./he.js":285,"./hi":286,"./hi.js":286,"./hr":287,"./hr.js":287,"./hu":288,"./hu.js":288,"./hy-am":289,"./hy-am.js":289,"./id":290,"./id.js":290,"./is":291,"./is.js":291,"./it":292,"./it-ch":293,"./it-ch.js":293,"./it.js":292,"./ja":294,"./ja.js":294,"./jv":295,"./jv.js":295,"./ka":296,"./ka.js":296,"./kk":297,"./kk.js":297,"./km":298,"./km.js":298,"./kn":299,"./kn.js":299,"./ko":300,"./ko.js":300,"./ku":301,"./ku.js":301,"./ky":302,"./ky.js":302,"./lb":303,"./lb.js":303,"./lo":304,"./lo.js":304,"./lt":305,"./lt.js":305,"./lv":306,"./lv.js":306,"./me":307,"./me.js":307,"./mi":308,"./mi.js":308,"./mk":309,"./mk.js":309,"./ml":310,"./ml.js":310,"./mn":311,"./mn.js":311,"./mr":312,"./mr.js":312,"./ms":313,"./ms-my":314,"./ms-my.js":314,"./ms.js":313,"./mt":315,"./mt.js":315,"./my":316,"./my.js":316,"./nb":317,"./nb.js":317,"./ne":318,"./ne.js":318,"./nl":319,"./nl-be":320,"./nl-be.js":320,"./nl.js":319,"./nn":321,"./nn.js":321,"./oc-lnc":322,"./oc-lnc.js":322,"./pa-in":323,"./pa-in.js":323,"./pl":324,"./pl.js":324,"./pt":325,"./pt-br":326,"./pt-br.js":326,"./pt.js":325,"./ro":327,"./ro.js":327,"./ru":328,"./ru.js":328,"./sd":329,"./sd.js":329,"./se":330,"./se.js":330,"./si":331,"./si.js":331,"./sk":332,"./sk.js":332,"./sl":333,"./sl.js":333,"./sq":334,"./sq.js":334,"./sr":335,"./sr-cyrl":336,"./sr-cyrl.js":336,"./sr.js":335,"./ss":337,"./ss.js":337,"./sv":338,"./sv.js":338,"./sw":339,"./sw.js":339,"./ta":340,"./ta.js":340,"./te":341,"./te.js":341,"./tet":342,"./tet.js":342,"./tg":343,"./tg.js":343,"./th":344,"./th.js":344,"./tk":345,"./tk.js":345,"./tl-ph":346,"./tl-ph.js":346,"./tlh":347,"./tlh.js":347,"./tr":348,"./tr.js":348,"./tzl":349,"./tzl.js":349,"./tzm":350,"./tzm-latn":351,"./tzm-latn.js":351,"./tzm.js":350,"./ug-cn":352,"./ug-cn.js":352,"./uk":353,"./uk.js":353,"./ur":354,"./ur.js":354,"./uz":355,"./uz-latn":356,"./uz-latn.js":356,"./uz.js":355,"./vi":357,"./vi.js":357,"./x-pseudo":358,"./x-pseudo.js":358,"./yo":359,"./yo.js":359,"./zh-cn":360,"./zh-cn.js":360,"./zh-hk":361,"./zh-hk.js":361,"./zh-mo":362,"./zh-mo.js":362,"./zh-tw":363,"./zh-tw.js":363};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=589},590:function(e,t,n){},79:function(e,t,n){"use strict";var r=n(15),a=n.n(r),s=function e(t){a()(this,e),this.ID=t.ID,this.caps=t.caps,this.roles=t.roles,this.user_email=t.data,this.user_login=t.data.user_email,this.user_nicename=t.data.user_login};t.a=function e(){a()(this,e),this.restUrl=WPML_TM_SETTINGS.restUrl,this.restNonce=WPML_TM_SETTINGS.restNonce,this.ateSettings=WPML_TM_SETTINGS.ate,this.currentUser=new s(WPML_TM_SETTINGS.currentUser)}},88:function(e,t,n){"use strict";var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(15),i=n.n(c),u=n(18),l=n.n(u),p=n(37),f=n.n(p),b=n(44),d=n.n(b),j=n(40),m=n.n(j),h=n(79),v=n(82);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}Object(v.a)();var O=function(e){f()(r,e);var t,n=y(r);function r(){return i()(this,r),n.apply(this,arguments)}return l()(r,[{key:"get",value:function(e){return this.request(e,"GET")}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.request(e,"POST",t)}},{key:"download",value:(t=o()(a.a.mark((function e(t){var n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,this.generateArgs("GET")).then((function(e){return e.ok?e.blob():n.buildError(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.generateArgs(t,n);return this.restUrl.includes("?")&&(e=e.replace("?","&")),this.handleRequest(this.restUrl+e,r)}},{key:"handleRequest",value:function(e,t){var n=this;return fetch(e,t).then((function(e){return e.ok?e.json():n.buildError(e)}))}},{key:"generateArgs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={method:e.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":this.restNonce},credentials:"same-origin"};return"GET"!==n.method&&t&&(n.body="string"==typeof t?t:JSON.stringify(t)),n}},{key:"buildError",value:function(e){return e.json().then((function(t){var n=new Error(t.message||e.statusText);return Promise.reject(Object.assign(n,{response:e}))}))}}]),r}(h.a);t.a=O}});