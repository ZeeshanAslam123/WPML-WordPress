!function(e){function t(t){for(var r,s,c=t[0],o=t[1],u=t[2],p=0,d=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={1:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window.webpackWPML=window.webpackWPML||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;i.push([1280,0]),n()}({1256:function(e,t,n){},1280:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(34),s=n.n(i),c=(n(1256),n(13)),o=n.n(c),u=n(2),l=n(37),p=n.n(l),d=n(44),m=n.n(d),f=n(40),h=n.n(f),b=n(3),v=n.n(b),g=n(7),E=n.n(g),y=n(15),O=n.n(y),w=n(18),j=n.n(w),k=n(16),C=function(e){return new Promise((function(t){return setTimeout(t,e)}))},S=function(){var e=E()(v.a.mark((function e(t,n){var r,a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(t,n);case 2:if(null!=(i=e.sent)&&null!==(r=i.data)&&void 0!==r&&r.success){e.next=5;break}throw new Error("API call failed");case 5:return e.abrupt("return",null==i||null===(a=i.data)||void 0===a?void 0:a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=E()(v.a.mark((function e(t){var n,r,a,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:{},r=0;case 2:if(!(r<3)){e.next=16;break}return e.prev=3,e.next=6,S(t,n);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.next=13,C((null===(a=ate_cloned_sites)||void 0===a?void 0:a.retryTimeout)||2e3);case 13:r++,e.next=2;break;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){return x(ate_cloned_sites.endpoints.move)},R=function(){return x(ate_cloned_sites.endpoints.copy)},_=function(){var e=E()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(ate_cloned_sites.endpoints.clonedSitesGetCredits);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return n=t.available_balance>t.subscription_max_limit?t.available_balance-t.subscription_max_limit:0,e.abrupt("return",{activeSubscription:!(null==t||!t.active_subscription),availableCredits:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var T="back",A=function(){function e(){O()(this,e)}var t;return j()(e,[{key:"getName",value:function(){throw new Error("getName() not implemented")}},{key:"handle",value:(t=E()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),I=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"handle",value:(t=E()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(A),P=function(){var e=E()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadCredits();case 2:if(!(n=e.sent)||!(n.activeSubscription||n.availableCredits>0)){e.next=5;break}return e.abrupt("return",new W(t));case 5:return e.next=7,R();case 7:if(!e.sent){e.next=9;break}return e.abrupt("return",new z);case 9:return e.abrupt("return",new D);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"Initial"}},{key:"handle",value:(t=E()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setSourceSiteStillExist(t),t){e.next=3;break}return e.abrupt("return",new L);case 3:return e.abrupt("return",P(n));case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),r}(A),L=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"MoveOrCopy"}},{key:"handle",value:(t=E()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MOVE"!==t){e.next=2;break}return e.abrupt("return",new H);case 2:if("COPY"!==t){e.next=4;break}return e.abrupt("return",P(n));case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(A),H=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"MoveConfirmation"}},{key:"handle",value:(t=E()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==T){e.next=2;break}return e.abrupt("return",new L);case 2:if("continue"!==t){e.next=8;break}return e.next=5,M();case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",new Y);case 7:return e.abrupt("return",new q);case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(A),Y=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"MoveCompleted"}}]),n}(A),q=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"MoveError"}}]),n}(I),W=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"CreditDecision"}},{key:"handle",value:(t=E()(v.a.mark((function e(t,n,r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.isOriginalSiteMovedToAnotherURL,t.action!==T){e.next=3;break}return e.abrupt("return",a?new F:new L);case 3:if("continue"!==t.action){e.next=11;break}if(!t.shouldCopyCredit){e.next=6;break}return e.abrupt("return",new B);case 6:return e.next=8,R();case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",new z);case 10:return e.abrupt("return",new D);case 11:return e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),r}(A),D=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"CopyError"}}]),n}(I),z=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"CopyCompleted"}}]),n}(A),B=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"CopyCredits"}},{key:"handle",value:(t=E()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action!==T){e.next=2;break}return e.abrupt("return",new W);case 2:if("continue"!==t.action){e.next=8;break}return e.next=5,n=t.migrationCode,x(ate_cloned_sites.endpoints.copyWithCredits,{migrationCode:n});case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",new G);case 7:return e.abrupt("return",new V);case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}var n}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(A),G=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"CopyWithCreditsCompleted"}}]),n}(A),V=function(e){p()(n,e);var t=N(n);function n(){return O()(this,n),t.apply(this,arguments)}return j()(n,[{key:"getName",value:function(){return"CopyWithCreditsError"}}]),n}(I),F=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"RevertMove"}},{key:"handle",value:(t=E()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MOVE"!==t){e.next=4;break}return e.abrupt("return",new J);case 4:if("COPY"!==t){e.next=6;break}return e.abrupt("return",P(n));case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(A),J=function(e){p()(r,e);var t,n=N(r);function r(){return O()(this,r),n.apply(this,arguments)}return j()(r,[{key:"getName",value:function(){return"RevertMoveConfirm"}},{key:"handle",value:(t=E()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==T){e.next=2;break}return e.abrupt("return",new F);case 2:if("continue"!==t){e.next=8;break}return e.next=5,M();case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",new Y);case 7:return e.abrupt("return",new q);case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(A),K=function(e){return{currentStep:e?new F:new U,setCurrentStep:Object(u.b)((function(e,t){e.currentStep=t})),moveToNextStep:Object(u.e)(function(){var t=E()(v.a.mark((function t(n,r,a){var i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.getState,s=i().currentStep,t.t0=n,t.next=5,s.handle(r,n,{isOriginalSiteMovedToAnotherURL:e});case 5:t.t1=t.sent,t.t0.setCurrentStep.call(t.t0,t.t1);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}())}},Q=function(){return{credits:void 0,setCredits:Object(u.b)((function(e,t){e.credits=t})),loadCredits:Object(u.e)(function(){var e=E()(v.a.mark((function e(t,n,r){var a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=r.getState)().credits){e.next=3;break}return e.abrupt("return",a().credits);case 3:return e.next=5,_();case 5:return i=e.sent,t.setCredits(i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())}};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){var t=e.settings,n=void 0===t?{allowedModes:{move:!0,copy:!0},urlCurrentlyRegisteredInAMS:"Old url",urlUsedToMakeRequest:"New url",isOriginalSiteMovedToAnotherURL:!1,doesSourceSiteStillExist:void 0}:t,r=e.urls,a=void 0===r?[]:r;return Object(u.d)(Z(Z(Z({settings:n,urls:a},Q()),K(n.isOriginalSiteMovedToAnotherURL)),{},{setSourceSiteStillExist:Object(u.b)((function(e,t){e.settings.doesSourceSiteStillExist=t}))}))},ee=n(9),te=n.n(ee),ne=n(1),re=n(144),ae=n(73),ie=n(511),se=n(1351),ce=n(85),oe=n(1342),ue=function(){return a.a.createElement("div",{className:"wpml-site-moved-logo"})},le=function(e){var t=e.id,n=void 0===t?"":t,r=e.header,i=e.children;return a.a.createElement(oe.a,{id:n,className:"wpml-site-moved-step",title:a.a.createElement(a.a.Fragment,null,a.a.createElement(ue,null),a.a.createElement("span",{className:"wpml-site-moved-step-header"},r))},i)},pe=function(e){var t=e.href,n=e.children;return a.a.createElement("a",{href:t,className:"wpml-external-link",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("span",null,n))},de=Object(ne.a)("WPML Detected a New Site Address","sitepress"),me=function(e){var t=e.allowedModes,n=e.urlCurrentlyRegisteredInAMS,i=e.urlUsedToMakeRequest,s=e.continueHandler,c=Object(r.useState)(t.move?"MOVE":t.copy?"COPY":void 0),o=te()(c,2),u=o[0],l=o[1],p=Object(r.useState)(!1),d=te()(p,2),m=d[0],f=d[1];return a.a.createElement(le,{header:de},a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("p",null,Object(ne.c)(Object(ne.a)("It looks like this site was previously at %s and is now running on %s.","sitepress"),n,i)),a.a.createElement("p",null,a.a.createElement("strong",null,Object(ne.c)(Object(ne.a)("Is the original site still available at %s?","sitepress"),n))))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(ie.a.Group,{onChange:function(e){l(e.target.value)},value:u},a.a.createElement(se.b,{direction:"vertical"},a.a.createElement(ie.a,{value:"COPY",disabled:!t.copy},a.a.createElement("strong",null,Object(ne.a)("Yes","sitepress")),a.a.createElement("span",{className:"slash"},"/"),Object(ne.a)("The original site is still running and this is just a copy of the original site","sitepress")),a.a.createElement(ie.a,{value:"MOVE",disabled:!t.move},a.a.createElement("strong",null,Object(ne.a)("No","sitepress")),a.a.createElement("span",{className:"slash"},"/"),Object(ne.a)("I moved the site to this new address and this is now the main site","sitepress")))))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(se.b,{className:"actions",direction:"horizontal",size:"middle"},a.a.createElement(ce.a,{type:"primary",onClick:function(){f(!0),s(u)},disabled:!u,loading:m},Object(ne.a)("Continue","sitepress")),a.a.createElement(pe,{href:"https://wpml.org/documentation/translating-your-contents/advanced-translation-editor/using-advanced-translation-editor-when-you-move-or-use-a-copy-of-your-site/?utm_source=plugin&utm_medium=gui&utm_campaign=site-moved-copied"},Object(ne.a)("How to manage translations when migrating from development to production","sitepress"))))))},fe=function(){var e=Object(u.h)((function(e){return e.settings.allowedModes})),t=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),n=Object(u.h)((function(e){return e.settings.urlUsedToMakeRequest})),r=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement(me,{allowedModes:e,urlCurrentlyRegisteredInAMS:t,urlUsedToMakeRequest:n,continueHandler:r})},he=n(1316),be=n(445),ve=Object(ne.a)("Please Confirm","sitepress"),ge=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=e.backHandler,i=e.continueHandler,s=Object(r.useState)(!1),c=te()(s,2),o=c[0],u=c[1],l=Object(r.useState)(!1),p=te()(l,2),d=p[0],m=p[1];return a.a.createElement(le,{header:ve},a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("strong",{className:"body-title"},Object(ne.c)(Object(ne.a)("You indicated that the original site at %s is no longer active. This means:","sitepress"),t)),a.a.createElement("ul",null,a.a.createElement("li",null,Object(ne.a)("Automatic translation will no longer work on the old site","sitepress")),a.a.createElement("li",null,Object(ne.a)("Accessing the old site may trigger warnings on this site","sitepress"))))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("p",null,Object(ne.a)("Please confirm:","sitepress")))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(be.a,{onChange:function(e){u(e.target.checked)},checked:o},Object(he.a)(Object(ne.c)(Object(ne.a)("I understand and confirm that <b>%s</b> is no longer in use.","sitepress"),t),{b:a.a.createElement("b",null)})))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(se.b,{className:"actions",direction:"horizontal"},a.a.createElement(ce.a,{type:"primary",onClick:function(){m(!0),i()},disabled:!o,loading:d},Object(ne.a)("Continue","sitepress")),a.a.createElement(ce.a,{type:"link",onClick:n},Object(ne.a)("Back","sitepress"))))))},Ee=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement(ge,{urlCurrentlyRegisteredInAMS:e,backHandler:function(){return t(T)},continueHandler:function(){return t("continue")}})},ye=function(){var e=Object(r.useState)(!1),t=te()(e,2),n=t[0],i=t[1];return a.a.createElement(ce.a,{type:"primary",onClick:function(){i(!0),window.location.reload()},loading:n},Object(ne.a)("Close","sitepress"))},Oe=function(){return a.a.createElement("strong",null,Object(ne.a)("WPML has automatically unregistered your site as part of this wizard. After you close it, you’ll see a prompt to register the site again. This is expected, your content and translations are safe.","sitepress"))},we=Object(ne.a)("You’re all set","sitepress"),je=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t;return a.a.createElement(le,{header:we,id:"wpml-site-moved--move-completed"},a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("strong",{className:"body-title"},Object(ne.a)("You can now continue translating content on this site as usual.","sitepress")))),a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.c)(Object(ne.a)("Just a reminder: there shouldn’t be another copy of this site running at %s. If there is, automatic translation won’t work correctly on that site.","sitepress"),n)),a.a.createElement("p",{className:"unregistration-info"},a.a.createElement(Oe,null)))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(ye,null))))},ke=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS}));return a.a.createElement(je,{urlCurrentlyRegisteredInAMS:e})},Ce=function(e){var t=e.header,n=e.extraHeader,r=void 0===n?void 0:n,i=e.children;return a.a.createElement(oe.a,{title:a.a.createElement(a.a.Fragment,null,a.a.createElement(ue,null),a.a.createElement("span",{className:"wpml-site-moved-step-header"},t)),extra:r,className:"wpml-site-moved-step wpml-site-moved-step--error"},i)},Se=function(e){var t=e.term,n=void 0===t?"":t;return Object(he.a)(Object(ne.a)("Please take a screenshot of this message and report this issue to <a>WPML support</a>.","sitepress"),{a:a.a.createElement("a",{href:"https://wpml.org/forums/forum/english-support/?utm_source=plugin&utm_medium=gui&utm_campaign=site-moved-copied&utm_term="+n,target:"_blank",rel:"noopener noreferrer"})})},xe=Object(ne.a)("Error with moving translation information to new URL","sitepress"),Me=function(){return a.a.createElement(Ce,{header:xe},a.a.createElement(se.b,{direction:"vertical",size:"middle"},a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("p",null,Object(ne.a)("WPML was unable to update our records with your new URL.","sitepress")))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(Se,{term:"error-site-move"})))))},Re=Object(ne.a)("Error with copying translation information to new URL","sitepess"),_e=function(){return a.a.createElement(Ce,{header:Re},a.a.createElement(re.a,{gutter:[0,16]},a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.a)("WPML was unable to copy your site's translations, translation memory, and glossary to this new URL.","sitepress"))),a.a.createElement(ae.a,{span:24},a.a.createElement(Se,{term:"error-site-copy"}))))},Ne=Object(ne.a)("You’re all set","sitepress"),Te=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t,r=e.fetchingCreditsErrorOccurred,i=void 0!==r&&r;return a.a.createElement(le,{header:Ne,id:"wpml-site-moved--copy-completed"},a.a.createElement(re.a,{gutter:[0,16]},a.a.createElement(ae.a,{span:24},a.a.createElement("strong",null,Object(ne.c)(Object(ne.a)("This site is a copy of the original site %s and it doesn’t currently have any automatic translation credits.","sitepress"),n))),a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(he.a)(Object(ne.a)("If you’d like to use automatic translation here in the future, you can either <a1>add credits</a1> or <a2>share them from the original site</a2>.","sitepress"),{a1:a.a.createElement("a",{href:"https://wpml.org/documentation/automatic-translation/how-to-assign-automatic-translation-credits-to-your-sites/?utm_source=plugin&utm_medium=gui&utm_campaign=site-moved-copied",target:"_blank",rel:"noreferrer"}),a2:a.a.createElement("a",{href:"https://wpml.org/documentation/automatic-translation/automatic-translation-subscription-for-multiple-sites/?utm_source=plugin&utm_medium=gui&utm_campaign=site-moved-copied&utm_term=move-confirmation",target:"_blank",rel:"noreferrer"})})),a.a.createElement("p",{className:"unregistration-info"},a.a.createElement(Oe,null))),i&&a.a.createElement(ae.a,{span:24},a.a.createElement("p",{id:"wpml-tm-ate-lock-notice--credit-check-error"},a.a.createElement("strong",null,Object(he.a)(Object(ne.a)("There was an error checking for credits to share. Please take a screenshot of this message and report it in <a>WPML support</a>.","sitepress"),{a:a.a.createElement("a",{href:"https://wpml.org/forums/forum/english-support/"})})))),a.a.createElement(ae.a,{span:24},a.a.createElement(ye,null))))},Ae=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.h)((function(e){return e.credits}));return a.a.createElement(Te,{urlCurrentlyRegisteredInAMS:e,fetchingCreditsErrorOccurred:null===t})},Ie=Object(ne.a)("Translation credits for this site","sitepress"),Pe=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t,i=e.urlUsedToMakeRequest,s=void 0===i?"":i,c=e.credits,o=void 0===c?{activeSubscription:!1,availableCredits:0}:c,u=e.continueHandler,l=void 0===u?function(e){}:u,p=e.backHandler,d=void 0===p?function(){}:p,m=e.doesSourceSiteStillExist,f=void 0!==m&&m,h=Object(r.useState)("Yes"),b=te()(h,2),g=b[0],y=b[1],O=Object(r.useState)(!1),w=te()(O,2),j=w[0],k=w[1],C=function(){var e=E()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,l("Yes"===g);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=o.activeSubscription?function(e,t){return Object(ne.c)(Object(ne.a)("The site on %s has a pay-as-you-go subscription for automatic translation. Do you want to share these credits between %s and this new location (%s)?","sitepress"),e,e,t)}(n,s):function(e,t,n){return Object(ne.c)(Object(ne.a)("The site on %s has %d credits for automatic translation. Do you want to share these credits with this new site %s?","sitepress"),t,e,n)}(o.availableCredits,n,s);return a.a.createElement(le,{header:Ie},a.a.createElement(se.b,{direction:"vertical",size:"large"},a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("strong",null,S))),a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement(ie.a.Group,{onChange:function(e){y(e.target.value)},value:g},a.a.createElement(se.b,{direction:"vertical"},a.a.createElement(ie.a,{value:"Yes"},a.a.createElement("strong",null,Object(ne.a)("Yes (recommended)","sitepress")),a.a.createElement("span",{className:"slash"},"/"),Object(ne.a)("In the next step, you’ll approve the use of same credits on both sites.","sitepress")),a.a.createElement(ie.a,{value:"No"},a.a.createElement("strong",null,Object(ne.a)("No","sitepress")),a.a.createElement("span",{className:"slash"},"/"),Object(ne.a)("You’ll need to assign new credits or set up pay-as-you-go.","sitepress")))))),a.a.createElement(re.a,{justify:"space-between",align:"center"},a.a.createElement(ae.a,null,a.a.createElement(se.b,{className:"actions credit-decision"},a.a.createElement(ce.a,{type:"primary",onClick:C,loading:j},Object(ne.a)("Continue","sitepress")),a.a.createElement(pe,{href:"https://wpml.org/documentation/automatic-translation/automatic-translation-subscription-for-multiple-sites/?utm_source=plugin&utm_medium=gui&utm_campaign=site-moved-copied&utm_term=credits-step"},Object(ne.a)("What happens when you share credits between sites?","sitepress")))),a.a.createElement(ae.a,null,!f&&a.a.createElement(ce.a,{type:"link",className:"credit-decision",onClick:d,disabled:j},Object(ne.a)("Go back","sitepress"))))))},Ue=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.h)((function(e){return e.settings.urlUsedToMakeRequest})),n=Object(u.h)((function(e){return e.settings.doesSourceSiteStillExist})),r=Object(u.h)((function(e){return e.credits})),i=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement(Pe,{urlCurrentlyRegisteredInAMS:e,urlUsedToMakeRequest:t,credits:r,continueHandler:function(e){return i({action:"continue",shouldCopyCredit:e})},backHandler:function(){return i({action:T})},doesSourceSiteStillExist:n})},Le=n(1339),He=Object(ne.a)("Connect Automatic Translation Credits","sitepress"),Ye=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t,i=e.urlUsedToMakeRequest,s=void 0===i?"":i,c=e.toolsUrl,o=void 0===c?"":c,u=e.backHandler,l=void 0===u?function(){}:u,p=e.continueHandler,d=void 0===p?function(e){}:p,m=Object(r.useState)(""),f=te()(m,2),h=f[0],b=f[1],v=Object(r.useState)(!1),g=te()(v,2),E=g[0],y=g[1];return a.a.createElement(le,{header:He},a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("strong",{className:"body-title"},Object(ne.c)(Object(ne.a)("To link %s and %s so they share automatic translation credits, follow these steps:","sitepress"),n,s)),a.a.createElement("ol",null,a.a.createElement("li",null,Object(he.a)(Object(ne.c)(Object(ne.a)("Open <a>this link</a> to access the original site’s admin area. (You can’t access this screen by visiting %s directly.)","sitepress"),n),{a:a.a.createElement("a",{target:"_blank",href:o,rel:"noopener noreferrer",className:"wpml-tm-ate-lock-notice--ams-tools-url"})})),a.a.createElement("li",null,Object(he.a)(Object(ne.a)("Click <b>Copy migration code</b> on that page.","sitepress"),{b:a.a.createElement("b",null)})),a.a.createElement("li",null,Object(ne.a)("Paste the code below to complete the connection.","sitepress")))),a.a.createElement(ae.a,{span:24},a.a.createElement(re.a,{justify:"space-between"},a.a.createElement(se.b,{direction:"horizontal",size:"middle"},a.a.createElement(Le.a,{placeholder:Object(ne.a)("Migration code","sitepress"),onChange:function(e){b(e.target.value)},id:"wpml-tm-ate-lock-notice--migration-code"}),a.a.createElement(ce.a,{type:"primary",disabled:!h,onClick:function(){y(!0),d(h)},loading:E},Object(ne.a)("Continue","sitepress"))),a.a.createElement(ce.a,{type:"link",className:"credit-decision",onClick:l},Object(ne.a)("Go back","sitepress"))))))},qe=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.h)((function(e){return e.settings.urlUsedToMakeRequest})),n=Object(u.h)((function(e){return e.urls.toolsOnOldSite})),r=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement(Ye,{urlCurrentlyRegisteredInAMS:e,urlUsedToMakeRequest:t,toolsUrl:n,backHandler:function(){return r({action:T})},continueHandler:function(e){return r({action:"continue",migrationCode:e})}})},We=Object(ne.a)("You’re all set","sitepress"),De=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t;return a.a.createElement(le,{header:We},a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("strong",{className:"body-title"},function(e){return Object(ne.c)(Object(ne.a)("This site and its copy on %s are now sharing automatic translation credits.","sitepress"),e)}(n))),a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.a)("Any credits you add to one site will be available on both. If you stop using this site, your credits will remain safe.","sitepress")),a.a.createElement("p",{className:"unregistration-info"},a.a.createElement(Oe,null))),a.a.createElement(ae.a,{span:24},a.a.createElement(ye,null))))},ze=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS}));return a.a.createElement(De,{urlCurrentlyRegisteredInAMS:e})},Be=Object(ne.a)("Error with sharing automatic translation credits","sitepess"),Ge=function(){return a.a.createElement(Ce,{header:Be},a.a.createElement(re.a,{gutter:[0,16]},a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.a)("WPML was unable to connect your old and new URLs to share automatic translation credits.","sitepress"))),a.a.createElement(ae.a,{span:24},a.a.createElement(Se,{term:"error-share-credits"}))))},Ve=n(1359),Fe=n(1322),Je=n(393),Ke=Object(ne.a)("This site has moved to a new location","sitepress"),Qe=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t,i=e.urlUsedToMakeRequest,s=void 0===i?"":i,c=e.moveSite,o=void 0===c?function(){}:c,u=e.copySite,l=void 0===u?function(){}:u,p=Object(r.useState)(!1),d=te()(p,2),m=d[0],f=d[1];return a.a.createElement(le,{header:Ke},a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("strong",{className:"body-title"},Object(ne.c)(Object(ne.a)("You or someone else moved this site to %s. Please keep in mind that:","sitepress"),n)))),a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("ul",null,a.a.createElement("li",null,Object(ne.c)(Object(ne.a)("Translations that you do at %s will not appear on this site.","sitepress"),n)),a.a.createElement("li",null,Object(ne.a)("You cannot edit translations on this site.","sitepress"))))),a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.c)(Object(ne.a)("The site at %s is using the same credits for automatic translation as this site.","sitepress"),n)),a.a.createElement("p",null,Object(he.a)(Object(ne.c)(Object(ne.a)("If you didn't intend to move this site to %s, you can <a>indicate that this site should be at %s</a>.","sitepress"),n,s),{a:a.a.createElement("a",{href:"#",onClick:o,id:"wpml-tm-ate-lock-notice--revert-move"})})))),a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement(Fe.a,null),a.a.createElement("div",{className:"prefer-copy"},Object(he.a)(Object(ne.a)("If you prefer not to move this site, you can <a>mark it as a copy</a> and enable automatic translation for it.","sitepress"),{a:a.a.createElement("a",{href:"#",onClick:function(){return f(!0),l()},id:"wpml-tm-ate-lock-notice--create-copy"})}),m&&a.a.createElement(Je.a,{indicator:a.a.createElement(Ve.a,{spin:!0})})))))},Xe=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.h)((function(e){return e.settings.urlUsedToMakeRequest})),n=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement(Qe,{urlCurrentlyRegisteredInAMS:e,urlUsedToMakeRequest:t,moveSite:function(){return n("MOVE")},copySite:function(){return n("COPY")}})},Ze=function(e,t){return Object(ne.c)(Object(ne.a)("Are you sure that this site should run on %s and not %s?","sitepress"),t,e)},$e=function(e){var t=e.urlCurrentlyRegisteredInAMS,n=void 0===t?"":t,i=e.urlUsedToMakeRequest,s=void 0===i?"":i,c=e.continueHandler,o=void 0===c?E()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):c,u=e.backHandler,l=void 0===u?function(){}:u,p=Object(r.useState)(!1),d=te()(p,2),m=d[0],f=d[1],h=function(){var e=E()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(le,{header:Ze(n,s)},a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement("p",null,Object(ne.c)(Object(ne.a)("Moving the site back here will mean that you will be able to translate on this domain again, but you will not be able to update translations at %s.","sitepress"),n)))),a.a.createElement(re.a,null,a.a.createElement(ae.a,{span:24},a.a.createElement(se.b,{direction:"horizontal",size:"middle"},a.a.createElement(ce.a,{type:"primary",onClick:h,loading:m,id:"wpml-tm-ate-lock-notice--revert-move-confirm"},Object(ne.a)("Yes - move back here","sitepress")),a.a.createElement(ce.a,{type:"primary",onClick:l,disabled:m,id:"wpml-tm-ate-lock-notice--revert-move-back"},Object(ne.c)(Object(ne.a)("No - keep the site on %s","sitepress"),n))))))},et=function(){var e=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),t=Object(u.h)((function(e){return e.settings.urlUsedToMakeRequest})),n=Object(u.g)((function(e){return e.moveToNextStep}));return a.a.createElement($e,{urlCurrentlyRegisteredInAMS:e,urlUsedToMakeRequest:t,continueHandler:E()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("continue");case 2:case"end":return e.stop()}}),e)}))),backHandler:function(){n(T)}})},tt=function(){var e=E()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,Object(k.a)(ate_cloned_sites.endpoints.checkSourceSiteExistence,{url:t});case 5:return r=e.sent,e.abrupt("return",r&&"exists"===(null==r||null===(n=r.data)||void 0===n?void 0:n.data));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(r.useState)(!1),t=te()(e,2),n=t[0],a=t[1],i=Object(u.h)((function(e){return e.settings.urlCurrentlyRegisteredInAMS})),s=Object(u.g)((function(e){return e.moveToNextStep}));return{isChecking:n,handleCheckClick:function(){var e=E()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,tt(i);case 4:t=e.sent,s(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()}},rt=function(){var e=Object(r.useState)(!1),t=te()(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),s=te()(i,2),c=s[0],o=s[1],u=Object(r.useState)(!1),l=te()(u,2),p=l[0],d=l[1];return{inProgress:n,error:c,done:p,callAction:function(){var e=E()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),o(!1),d(!1),e.prev=3,e.next=6,Object(k.a)(ate_cloned_sites.endpoints.enableSecondaryDomain,{});case 6:if((t=e.sent).data.success){e.next=9;break}throw new Error(t.data.data);case 9:d(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o(!0);case 15:a(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()}},at=function(e){var t=e.isChecking,n=e.handleCheckClick;return a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("p",null,Object(ne.a)("WPML noticed that your site is being accessed from a different domain or URL.","sitepress")),a.a.createElement("p",null,Object(ne.a)("To make sure everything continues working correctly, including automatic translation and site registration, we need to verify and update your site settings.","sitepress")),a.a.createElement("p",null,Object(ne.a)("This will only take a moment.","sitepress")),a.a.createElement(ce.a,{type:"primary",onClick:n,loading:t,disabled:t},Object(ne.a)("Start Migration","sitepress"))))},it=n(203),st=function(e){var t=e.inProgress,n=e.error,r=e.done,i=e.handleEnableSecondaryDomain;return a.a.createElement(re.a,null,a.a.createElement(ae.a,null,a.a.createElement("p",null,Object(ne.a)("If you didn't change your main domain and only logged in through a secondary domain, select this option.","sitepress")),n&&a.a.createElement(it.a,{message:Object(ne.a)("Something went wrong","sitepress"),type:"error",showIcon:!0,style:{marginBottom:"16px"}}),!r&&a.a.createElement(ce.a,{type:"default",onClick:i,loading:t,disabled:t,className:"wpml-button base-btn wpml-button--outlined ".concat(t?"sec-domain-loading":"")},Object(ne.a)("I just logged in from a secondary domain","sitepress")),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,Object(ne.a)("You're all set!","sitepress")),a.a.createElement("p",null,Object(ne.a)("This domain is now registered as a secondary domain and WPML will recognize it correctly.","sitepress")),a.a.createElement(ye,null))))},ct=Object(ne.a)("WPML detected a change in your site’s URL","sitepress"),ot={Initial:function(){var e=nt(),t=e.isChecking,n=e.handleCheckClick,r=rt(),i=r.inProgress,s=r.error,c=r.done,o=r.callAction;return a.a.createElement(le,{header:ct},!i&&!c&&a.a.createElement(at,{isChecking:t,handleCheckClick:n}),!i&&!c&&!t&&a.a.createElement(Fe.a,null),!t&&a.a.createElement(st,{inProgress:i,error:s,done:c,handleEnableSecondaryDomain:function(){o()}}))},MoveOrCopy:fe,MoveConfirmation:Ee,MoveCompleted:ke,MoveError:Me,CopyError:_e,CopyCompleted:Ae,CreditDecision:Ue,CopyCredits:qe,CopyWithCreditsCompleted:ze,CopyWithCreditsError:Ge,RevertMove:Xe,RevertMoveConfirm:et},ut=function(){var e=Object(u.h)((function(e){return e.currentStep.getName()})),t=ot[e];return t?a.a.createElement(t,null):a.a.createElement(a.a.Fragment,null)},lt=Object(ne.a)("Site Moved or Copied - Action Required","sitepress"),pt=function(){return a.a.createElement(le,{header:lt,id:"wpml-site-moved--no-admin"},a.a.createElement("p",null,Object(ne.a)("Looks like this site is a copy of a different site, or moved to a different URL. Please contact your translation manager to update Translation Management plugin configuration.","sitepress")))},dt=function(){var e=$({settings:{allowedModes:ate_cloned_sites.settings.allowedModes,urlCurrentlyRegisteredInAMS:ate_cloned_sites.settings.urlCurrentlyRegisteredInAMS,urlUsedToMakeRequest:ate_cloned_sites.settings.urlUsedToMakeRequest,isOriginalSiteMovedToAnotherURL:ate_cloned_sites.settings.isOriginalSiteMovedToAnotherURL,doesSourceSiteStillExist:ate_cloned_sites.settings.doesSourceSiteStillExist},urls:ate_cloned_sites.urls});return a.a.createElement(u.a,{store:e},ate_cloned_sites.hasRightToHandle?a.a.createElement(ut,null):a.a.createElement(pt,null))};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("wpml-tm-ate-lock-notice");e&&s.a.render(a.a.createElement(dt,null),e)}))}});