{"version":3,"file":"../../js/llms-metabox-block-refresh.min.js","sources":["llms-metabox-block-refresh.js"],"sourcesContent":["// Script to refresh Course Information and Instructors blocks when metabox data is saved\njQuery(document).ready(function($) {\n    // Listen for the metabox save events for course and membership\n\n    $(document).on('llms_metabox_after_save_lifterlms-course-options llms_metabox_after_save_lifterlms-membership', function(event, post_id) {\n\t\tdebugger;\n        // Check if we're in the block editor\n        if (wp.data && wp.data.dispatch && wp.data.select('core/editor')) {\n            // Get the current post type\n            const postType = wp.data.select('core/editor').getCurrentPostType();\n\n            // Only proceed for course and membership post types\n            if (postType === 'course' || postType === 'llms_membership') {\n                // Force a re-render of the Course Information and Instructors blocks\n                const blocks = wp.data.select('core/block-editor').getBlocks();\n\n                blocks.forEach(function(block) {\n                    if (block.name === 'llms/course-information' || block.name === 'llms/instructors') {\n                        // Update the block attributes to force a re-render\n                        wp.data.dispatch('core/block-editor').updateBlockAttributes(block.clientId, { ...block.attributes });\n                    }\n                });\n            }\n        }\n    });\n});\n"],"names":["jQuery","document","ready","$","on","event","post_id","postType","wp","data","dispatch","select","getCurrentPostType","getBlocks","forEach","block","name","updateBlockAttributes","clientId","attributes"],"mappings":"AACAA,OAAOC,QAAQ,EAAEC,MAAM,SAASC,GAG5BA,EAAEF,QAAQ,EAAEG,GAAG,gGAAiG,SAASC,EAAOC,GAG5H,IAEUC,EAFNC,GAAGC,MAAQD,GAAGC,KAAKC,UAAYF,GAAGC,KAAKE,OAAO,aAAa,IAK1C,YAHXJ,EAAWC,GAAGC,KAAKE,OAAO,aAAa,EAAEC,mBAAmB,IAGxB,oBAAbL,GAEVC,GAAGC,KAAKE,OAAO,mBAAmB,EAAEE,UAAU,EAEtDC,QAAQ,SAASC,GACD,4BAAfA,EAAMC,MAAqD,qBAAfD,EAAMC,MAElDR,GAAGC,KAAKC,SAAS,mBAAmB,EAAEO,sBAAsBF,EAAMG,SAAU,CAAE,GAAGH,EAAMI,UAAW,CAAC,CAE3G,CAAC,EAGb,CAAC,CACL,CAAC","sourceRoot":"../../js"}