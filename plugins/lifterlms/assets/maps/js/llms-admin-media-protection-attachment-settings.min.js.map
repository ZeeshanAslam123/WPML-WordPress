{"version":3,"file":"../../js/llms-admin-media-protection-attachment-settings.min.js","sources":["llms-admin-media-protection-attachment-settings.js"],"sourcesContent":["( function() {\n\tif ( 'undefined' === typeof wp || 'undefined' === typeof wp.media || 'undefined' === typeof wp.media.view || 'undefined' === typeof wp.media.view.Attachment || 'undefined' === typeof wp.media.view.Attachment.Details ) {\n\t\treturn;\n\t}\n\n\tvar originalCompat = wp.media.view.AttachmentCompat;\n\twp.media.view.AttachmentCompat = originalCompat.extend( {\n\t\tinitialize: function() {\n\t\t\t// Call the parent initialize.\n\t\t\toriginalCompat.prototype.initialize.apply( this, arguments );\n\n\t\t\t// Bind to the render event.\n\t\t\tthis.on( 'compatRendered', this.initializeLifterlmsSelect2 );\n\n\t\t\t// Listen for changes to the protection dropdown.\n\t\t\tthis.listenTo( this.model, 'change', this.refreshAttachmentUrl );\n\t\t},\n\n\t\trender: function() {\n\t\t\t// Call the parent render\n\t\t\toriginalCompat.prototype.render.apply(this, arguments);\n\n\t\t\t// Trigger our custom event after render.\n\t\t\t// TODO: Check if we need the defer.\n\t\t\t_.defer(() => {\n\t\t\t\tthis.trigger( 'compatRendered' );\n\t\t\t});\n\n\t\t\treturn this;\n\t\t},\n\n\t\tinitializeLifterlmsSelect2: function() {\n\t\t\tconst $select = jQuery( '.media-modal .llms-posts-select2' );\n\t\t\tif ( $select.length && ! $select.data( 'select2' )) {\n\t\t\t\t$select.llmsPostsSelect2();\n\t\t\t}\n\t\t},\n\n\t\trefreshAttachmentUrl: function() {\n\t\t\t// When the protection setting changes, we need to refresh the URL\n\t\t\tif ( this.model.hasChanged( 'url' ) ) {\n\t\t\t\t// Update the URL in the UI.\n\t\t\t\tjQuery( '#attachment-details-copy-link' ).val( this.model.get( 'url' ) );\n\t\t\t}\n\t\t}\n\t} );\n} )();\n"],"names":["originalCompat","wp","media","view","Attachment","Details","AttachmentCompat","extend","initialize","prototype","apply","this","arguments","on","initializeLifterlmsSelect2","listenTo","model","refreshAttachmentUrl","render","_","defer","trigger","$select","jQuery","length","data","llmsPostsSelect2","hasChanged","val","get"],"mappings":"AAAA,CAAA,WACC,IAIIA,EAJC,aAAgB,OAAOC,IAAM,KAAA,IAAuBA,GAAGC,OAAS,KAAA,IAAuBD,GAAGC,MAAMC,MAAQ,KAAA,IAAuBF,GAAGC,MAAMC,KAAKC,YAAc,KAAA,IAAuBH,GAAGC,MAAMC,KAAKC,WAAWC,UAI5ML,EAAiBC,GAAGC,MAAMC,KAAKG,iBACnCL,GAAGC,MAAMC,KAAKG,iBAAmBN,EAAeO,OAAQ,CACvDC,WAAY,WAEXR,EAAeS,UAAUD,WAAWE,MAAOC,KAAMC,SAAU,EAG3DD,KAAKE,GAAI,iBAAkBF,KAAKG,0BAA2B,EAG3DH,KAAKI,SAAUJ,KAAKK,MAAO,SAAUL,KAAKM,oBAAqB,CAChE,EAEAC,OAAQ,WAUP,OARAlB,EAAeS,UAAUS,OAAOR,MAAMC,KAAMC,SAAS,EAIrDO,EAAEC,MAAM,KACPT,KAAKU,QAAS,gBAAiB,CAChC,CAAC,EAEMV,IACR,EAEAG,2BAA4B,WAC3B,IAAMQ,EAAUC,OAAQ,kCAAmC,EACtDD,EAAQE,QAAU,CAAEF,EAAQG,KAAM,SAAU,GAChDH,EAAQI,iBAAiB,CAE3B,EAEAT,qBAAsB,WAEhBN,KAAKK,MAAMW,WAAY,KAAM,GAEjCJ,OAAQ,+BAAgC,EAAEK,IAAKjB,KAAKK,MAAMa,IAAK,KAAM,CAAE,CAEzE,CACD,CAAE,EACD,EAAE","sourceRoot":"../../js"}