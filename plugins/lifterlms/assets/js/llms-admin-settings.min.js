!function(l){window.llms=window.llms||{},window.llms.admin_settings=function(){this.file_frame=null,this.init=function(){this.bind(),this.bind_conditionals()},this.bind=function(){var e=this;l(".llms-image-field-upload").length&&(l(".llms-image-field-upload").on("click",function(t){t.preventDefault(),e.image_upload_click(l(this),t)}),l(".llms-image-field-remove").on("click",function(t){t.preventDefault(),e.update_image(l(this),"","")})),l(".llms-gateway-table").length&&l(".llms-gateway-table tbody").sortable({axis:"y",cursor:"move",items:"tr",handle:"td.sort",helper:function(t,e){return e.children().each(function(){l(this).width(l(this).width())}),e},update:function(t,e){l(this).find("td.sort input").each(function(t){l(this).val(t)})}})},this.bind_conditionals=function(){l(".llms-conditional-controller").each(function(){l(this).on("change",function(){var t;"checkbox"===l(this).attr("type")?(t=l(l(this).attr("data-controls")).closest("tr"),l(this).is(":checked")?t.show():t.hide()):"select"===l(this).prop("tagName").toLowerCase()&&l(this).find("option").each(function(){var t=l(this).val();if(!t)return!0;t=l(l(this).parent().attr("data-controls-"+l.escapeSelector(t))).closest("tr");l(this).is(":selected")?t.show():t.hide()})}).trigger("change")})},this.image_upload_click=function(e,t){var i,a,n=this,l=null;l||(i=e.attr("data-frame-title")||LLMS.l10n.translate("Select an Image"),a=e.attr("data-frame-button")||LLMS.l10n.translate("Select Image"),l=wp.media.frames.file_frame=wp.media({title:i,button:{text:a},multiple:!1})),l.on("select",function(){var t=l.state().get("selection").first().toJSON();n.update_image(e,t.id,t.url)}),l.open()},this.update_image=function(t,e,i){var a=l("#"+t.attr("data-id")),n=t.prevAll("img.llms-image-field-preview");$remove=t.hasClass("llms-image-field-remove")?t:t.next("input.llms-image-field-remove"),a.val(e),n.attr("src",i),""!==e?$remove.removeClass("hidden"):$remove.addClass("hidden")},this.init()};new window.llms.admin_settings}(jQuery);
//# sourceMappingURL=../maps/js/llms-admin-settings.min.js.map
